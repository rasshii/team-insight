# Team Insight

> Backlog ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ´»ç”¨ã—ãŸãƒãƒ¼ãƒ åˆ†æãƒ„ãƒ¼ãƒ«ã€‚ãƒãƒ¼ãƒ ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å¯è¦–åŒ–ã—ã€ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã®ç‰¹å®šã‚„ç”Ÿç”£æ€§ã®å‘ä¸Šã‚’æ”¯æ´ã—ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [é–‹ç™ºã‚¬ã‚¤ãƒ‰](#é–‹ç™ºã‚¬ã‚¤ãƒ‰)
  - [Makefile ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§](#makefileã‚³ãƒãƒ³ãƒ‰ä¸€è¦§)
  - [ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™º](#ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™º)
  - [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º](#ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º)
  - [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†](#ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†)
  - [ãƒ†ã‚¹ãƒˆ](#ãƒ†ã‚¹ãƒˆ)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³](#ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³)

## æ¦‚è¦

Team Insight ã¯ã€Backlog API ã¨é€£æºã—ã¦ãƒãƒ¼ãƒ ã®é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã‚’åˆ†æãƒ»å¯è¦–åŒ–ã™ã‚‹ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½

- **Backlog OAuth èªè¨¼**: ã‚»ã‚­ãƒ¥ã‚¢ãª OAuth2.0 èªè¨¼
- **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ãƒãƒ¼ãƒ ã®çµ±è¨ˆæƒ…å ±ã‚’ä¸€è¦§è¡¨ç¤º
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ†æ**: èª²é¡Œã®é€²æ—çŠ¶æ³ã‚„ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’å¯è¦–åŒ–
- **ãƒãƒ¼ãƒ åˆ†æ**: ãƒ¡ãƒ³ãƒãƒ¼ã®ç”Ÿç”£æ€§ã‚„ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã‚’åˆ†æ

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- **FastAPI** (Python 3.11): é«˜é€Ÿã§å‹å®‰å…¨ãª Web API ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **SQLAlchemy 2.0**: ORM ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†
- **PostgreSQL 15**: ãƒ¡ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Redis 7**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- **Alembic**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **React 18**: UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **TypeScript 5**: å‹å®‰å…¨ãªé–‹ç™º
- **Redux Toolkit**: çŠ¶æ…‹ç®¡ç†
- **shadcn/ui**: UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **Tailwind CSS v3**: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ CSS
- **Yarn v4 (Berry)**: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†

### ã‚¤ãƒ³ãƒ•ãƒ©

- **Docker & Docker Compose**: ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã¨é–‹ç™ºç’°å¢ƒ
- **Nginx**: ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·
- **Node.js v22 LTS**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ©ãƒ³ã‚¿ã‚¤ãƒ 

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Docker Desktop
- Git
- Backlog OAuth ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç™»éŒ²

### åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. **ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³**

```bash
git clone https://github.com/your-org/team-insight.git
cd team-insight
```

2. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•° (`backend/.env`):

```env
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
DATABASE_URL=postgresql://team_insight_user:team_insight_password@postgres:5432/team_insight

# Redisè¨­å®š
REDIS_URL=redis://redis:6379/0

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
SECRET_KEY=your-secret-key-here
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Backlog OAuthè¨­å®š
BACKLOG_CLIENT_ID=your-client-id
BACKLOG_CLIENT_SECRET=your-client-secret
BACKLOG_REDIRECT_URI=http://localhost:3000/auth/callback
BACKLOG_SPACE_KEY=your-space-key
```

3. **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œ**

```bash
# å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸
chmod +x setup.sh

# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Ÿè¡Œ
./setup.sh
```

ã¾ãŸã¯

```bash
make setup
```

4. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹**

- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: http://localhost:3000
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API: http://localhost:8000
- API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: http://localhost:8000/docs

## é–‹ç™ºã‚¬ã‚¤ãƒ‰

### Makefile ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

#### åŸºæœ¬æ“ä½œ

```bash
make start          # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
make stop           # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’åœæ­¢
make restart        # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•
make status         # ã‚µãƒ¼ãƒ“ã‚¹ã®çŠ¶æ…‹ã‚’ç¢ºèª
make logs           # å…¨ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ã‚°ã‚’è¡¨ç¤º
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ

```bash
make db-shell      # PostgreSQLã«æ¥ç¶š
make db-backup     # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆ
make db-restore    # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ
make migrate       # æœ€æ–°ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨
make migrate-rollback  # æœ€å¾Œã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
```

#### é–‹ç™ºç”¨ã‚³ãƒãƒ³ãƒ‰

```bash
make test          # ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
make test-coverage # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆä»˜ãã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
make lint          # ã‚³ãƒ¼ãƒ‰ã®é™çš„è§£æã‚’å®Ÿè¡Œ
make format        # ã‚³ãƒ¼ãƒ‰ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
make clean         # ã‚³ãƒ³ãƒ†ãƒŠã¨ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’å‰Šé™¤
```

#### ã‚³ãƒ³ãƒ†ãƒŠæ“ä½œ

```bash
make build         # å…¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰
make rebuild       # å…¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å†ãƒ“ãƒ«ãƒ‰
make ps            # ã‚³ãƒ³ãƒ†ãƒŠã®çŠ¶æ…‹ã‚’è¡¨ç¤º
make shell         # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚³ãƒ³ãƒ†ãƒŠã®ã‚·ã‚§ãƒ«ã«å…¥ã‚‹
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™º

#### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/          # APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ v1/       # APIãƒãƒ¼ã‚¸ãƒ§ãƒ³1
â”‚   â”œâ”€â”€ core/         # è¨­å®šã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ db/           # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
â”‚   â”œâ”€â”€ models/       # SQLAlchemyãƒ¢ãƒ‡ãƒ«
â”‚   â”œâ”€â”€ schemas/      # Pydanticã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ services/     # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â””â”€â”€ main.py       # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ alembic/          # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â””â”€â”€ tests/            # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
```

#### æ–°ã—ã„ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®è¿½åŠ 

1. **ã‚¹ã‚­ãƒ¼ãƒã®å®šç¾©** (`app/schemas/your_feature.py`):

```python
from pydantic import BaseModel, Field
from typing import Optional

class YourFeatureResponse(BaseModel):
    """ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¹ã‚­ãƒ¼ãƒ"""
    id: int = Field(..., description="ID")
    name: str = Field(..., description="åå‰")

    class Config:
        json_schema_extra = {
            "example": {
                "id": 1,
                "name": "ã‚µãƒ³ãƒ—ãƒ«"
            }
        }
```

2. **ãƒ¢ãƒ‡ãƒ«ã®å®šç¾©** (`app/models/your_feature.py`):

```python
from sqlalchemy import Column, Integer, String
from app.db.base_class import Base

class YourFeature(Base):
    """ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«"""
    __tablename__ = "your_features"

    id = Column(Integer, primary_key=True, index=True)
    name = Column(String(255), nullable=False)
```

3. **ã‚µãƒ¼ãƒ“ã‚¹ã®å®Ÿè£…** (`app/services/your_feature_service.py`):

```python
from sqlalchemy.orm import Session
from app.models.your_feature import YourFeature

class YourFeatureService:
    """ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯"""

    async def get_all(self, db: Session):
        """ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—"""
        return db.query(YourFeature).all()

your_feature_service = YourFeatureService()
```

4. **API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å®Ÿè£…** (`app/api/v1/your_feature.py`):

```python
from fastapi import APIRouter, Depends
from sqlalchemy.orm import Session
from typing import List

from app.db.session import get_db
from app.schemas.your_feature import YourFeatureResponse
from app.services.your_feature_service import your_feature_service
from app.core.security import get_current_active_user

router = APIRouter(prefix="/your-feature", tags=["your-feature"])

@router.get("/", response_model=List[YourFeatureResponse])
async def get_your_features(
    db: Session = Depends(get_db),
    current_user = Depends(get_current_active_user)
):
    """ãƒ‡ãƒ¼ã‚¿ä¸€è¦§ã‚’å–å¾—"""
    return await your_feature_service.get_all(db)
```

5. **ãƒ«ãƒ¼ã‚¿ãƒ¼ã®ç™»éŒ²** (`app/api/v1/__init__.py`):

```python
from .your_feature import router as your_feature_router
# æ—¢å­˜ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«è¿½åŠ 

api_router.include_router(your_feature_router)
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º

#### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/              # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (routes)/     # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ api/          # APIãƒ«ãƒ¼ãƒˆ
â”‚   â”‚   â””â”€â”€ layout.tsx    # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ components/       # å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ ui/          # shadcn/uiã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ hooks/           # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ services/        # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ store/           # Redux store
â”‚   â”‚   â””â”€â”€ slices/      # Redux slices
â”‚   â””â”€â”€ types/           # TypeScriptå‹å®šç¾©
```

#### æ–°ã—ã„ãƒšãƒ¼ã‚¸ã®è¿½åŠ 

1. **å‹å®šç¾©** (`src/types/your-feature.ts`):

```typescript
export interface YourFeature {
  id: number;
  name: string;
}
```

2. **API ã‚µãƒ¼ãƒ“ã‚¹** (`src/services/your-feature.service.ts`):

```typescript
import axios from "axios";
import { YourFeature } from "@/types/your-feature";

const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || "http://localhost:8000";

class YourFeatureService {
  async getAll(): Promise<YourFeature[]> {
    const response = await axios.get(`${API_BASE_URL}/api/v1/your-feature`);
    return response.data;
  }
}

export const yourFeatureService = new YourFeatureService();
```

3. **Redux Slice** (`src/store/slices/yourFeatureSlice.ts`):

```typescript
import { createSlice, createAsyncThunk } from "@reduxjs/toolkit";
import { yourFeatureService } from "@/services/your-feature.service";
import { YourFeature } from "@/types/your-feature";

interface YourFeatureState {
  items: YourFeature[];
  loading: boolean;
  error: string | null;
}

const initialState: YourFeatureState = {
  items: [],
  loading: false,
  error: null,
};

export const fetchYourFeatures = createAsyncThunk(
  "yourFeature/fetchAll",
  async () => {
    return await yourFeatureService.getAll();
  }
);

const yourFeatureSlice = createSlice({
  name: "yourFeature",
  initialState,
  reducers: {},
  extraReducers: (builder) => {
    builder
      .addCase(fetchYourFeatures.pending, (state) => {
        state.loading = true;
        state.error = null;
      })
      .addCase(fetchYourFeatures.fulfilled, (state, action) => {
        state.loading = false;
        state.items = action.payload;
      })
      .addCase(fetchYourFeatures.rejected, (state, action) => {
        state.loading = false;
        state.error = action.error.message || "ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ";
      });
  },
});

export default yourFeatureSlice.reducer;
```

4. **ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** (`src/app/your-feature/page.tsx`):

```typescript
"use client";

import { useEffect } from "react";
import { useAppDispatch, useAppSelector } from "@/store/hooks";
import { fetchYourFeatures } from "@/store/slices/yourFeatureSlice";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Skeleton } from "@/components/ui/skeleton";
import { Alert, AlertDescription } from "@/components/ui/alert";

export default function YourFeaturePage() {
  const dispatch = useAppDispatch();
  const { items, loading, error } = useAppSelector(
    (state) => state.yourFeature
  );

  useEffect(() => {
    dispatch(fetchYourFeatures());
  }, [dispatch]);

  if (loading) {
    return (
      <div className="container mx-auto p-6">
        <Skeleton className="h-[200px] w-full" />
      </div>
    );
  }

  if (error) {
    return (
      <div className="container mx-auto p-6">
        <Alert variant="destructive">
          <AlertDescription>{error}</AlertDescription>
        </Alert>
      </div>
    );
  }

  return (
    <div className="container mx-auto p-6">
      <h1 className="text-3xl font-bold mb-6">Your Feature</h1>
      <div className="grid gap-4">
        {items.map((item) => (
          <Card key={item.id}>
            <CardHeader>
              <CardTitle>{item.name}</CardTitle>
            </CardHeader>
            <CardContent>{/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}</CardContent>
          </Card>
        ))}
      </div>
    </div>
  );
}
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†

#### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

```bash
# æ–°ã—ã„ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ
make migration-create name="migration_name"

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®é©ç”¨
make migrate

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
make migrate-rollback

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¥æ­´ã®ç¢ºèª
make migration-history
```

#### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ãƒªã‚¹ãƒˆã‚¢

```bash
# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ä½œæˆ
make db-backup

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã®å¾©å…ƒ
make db-restore

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸€è¦§ã®è¡¨ç¤º
make db-backup-list
```

### ãƒ†ã‚¹ãƒˆ

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

1. **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ** (`backend/tests/test_your_feature.py`):

```python
import pytest
from fastapi.testclient import TestClient
from app.main import app

client = TestClient(app)

def test_get_your_features():
    """ãƒ‡ãƒ¼ã‚¿ä¸€è¦§å–å¾—ã®ãƒ†ã‚¹ãƒˆ"""
    response = client.get("/api/v1/your-feature")
    assert response.status_code == 200
    assert isinstance(response.json(), list)
```

2. **ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ**:

```bash
# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
make test

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œ
make test path="tests/test_your_feature.py"

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆä»˜ãã§å®Ÿè¡Œ
make test-coverage
```

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

1. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ** (`frontend/src/__tests__/YourFeature.test.tsx`):

```typescript
import { render, screen } from "@testing-library/react";
import { Provider } from "react-redux";
import { store } from "@/store";
import YourFeaturePage from "@/app/your-feature/page";

describe("YourFeaturePage", () => {
  it("renders without crashing", () => {
    render(
      <Provider store={store}>
        <YourFeaturePage />
      </Provider>
    );

    expect(screen.getByText("Your Feature")).toBeInTheDocument();
  });
});
```

2. **ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ**:

```bash
# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
cd frontend
yarn test

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
yarn test:watch

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆä»˜ãã§å®Ÿè¡Œ
yarn test:coverage
```

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```mermaid
graph TB
    subgraph "Frontend"
        A[React App]
        B[Redux Store]
        C[API Client]
    end

    subgraph "Backend"
        D[FastAPI]
        E[Business Logic]
        F[ORM Layer]
    end

    subgraph "Infrastructure"
        G[PostgreSQL]
        H[Redis]
        I[Nginx]
    end

    subgraph "External"
        J[Backlog API]
    end

    A --> B
    B --> C
    C --> I
    I --> D
    D --> E
    E --> F
    F --> G
    E --> H
    E --> J
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### ãƒãƒ¼ãƒˆç«¶åˆã‚¨ãƒ©ãƒ¼

```bash
# ä½¿ç”¨ä¸­ã®ãƒãƒ¼ãƒˆã‚’ç¢ºèª
lsof -i :3000  # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
lsof -i :8000  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

# ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµ‚äº†
kill -9 [PID]
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

```bash
# PostgreSQLã‚³ãƒ³ãƒ†ãƒŠã®çŠ¶æ…‹ã‚’ç¢ºèª
docker-compose ps postgres

# ãƒ­ã‚°ã‚’ç¢ºèª
docker-compose logs postgres

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å†ä½œæˆ
docker-compose down -v
docker-compose up -d
```

#### èªè¨¼ã‚¨ãƒ©ãƒ¼

- Backlog OAuth è¨­å®šã‚’ç¢ºèª
- ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ URI ãŒæ­£ã—ã„ã‹ç¢ºèª
- ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### é–‹ç™ºã®ãƒ’ãƒ³ãƒˆ

1. **API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: http://localhost:8000/docs ã§å¯¾è©±çš„ã« API ã‚’ãƒ†ã‚¹ãƒˆ
2. **Redux DevTools**: ãƒ–ãƒ©ã‚¦ã‚¶æ‹¡å¼µæ©Ÿèƒ½ã§çŠ¶æ…‹ç®¡ç†ã‚’ãƒ‡ãƒãƒƒã‚°
3. **Docker logs**: `docker-compose logs -f [service]` ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ç¢ºèª
4. **Hot Reload**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã‚‚ã«è‡ªå‹•ãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œ

## ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. Feature ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ: `git checkout -b feature/your-feature`
2. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ: `git commit -m 'Add your feature'`
3. ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒƒã‚·ãƒ¥: `git push origin feature/your-feature`
4. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

- Python: PEP 8, Black, isort
- TypeScript: ESLint, Prettier
- ã‚³ãƒŸãƒƒãƒˆ: Conventional Commits

## å‚è€ƒè³‡æ–™

- [FastAPI å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://fastapi.tiangolo.com/)
- [React å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://react.dev/)
- [Docker Compose å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.docker.com/compose/)
- [Backlog API ä»•æ§˜](https://developer.nulab.com/ja/docs/backlog/)
