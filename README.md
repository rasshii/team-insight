# Team Insight

ãƒãƒ¼ãƒ åˆ†æã¨ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

---

## ğŸš€ åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦ãªãƒ„ãƒ¼ãƒ«

- [Docker Desktop](https://www.docker.com/products/docker-desktop/)
- [Git](https://git-scm.com/)
- Makeï¼ˆmacOS/Linux ã¯æ¨™æº–æ­è¼‰ã€Windows ã¯[ã“ã¡ã‚‰](http://gnuwin32.sourceforge.net/packages/make.htm)ï¼‰
- Node.js 22.xï¼ˆyarn v4 ã¯ corepack ã§è‡ªå‹•ç®¡ç†ã•ã‚Œã¾ã™ï¼‰

### æ‰‹é †

1. **ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³**

   ```bash
   git clone <repository-url>
   cd team-insight
   ```

2. **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ**

   ```bash
   chmod +x setup.sh
   ./setup.sh
   ```

   ã¾ãŸã¯

   ```bash
   make setup
   ```

3. **åˆå›ã®ã¿ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä¾å­˜è§£æ±º**

   ```bash
   cd frontend
   corepack enable
   yarn install
   cd ..
   ```

4. **ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•**

   ```bash
   make start
   ```

5. **ã‚¢ã‚¯ã‚»ã‚¹ URL**
   - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: http://localhost:3000
   - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API: http://localhost:8000
   - Nginx çµŒç”±: http://localhost
   - PostgreSQL: localhost:5432
   - Redis: localhost:6379

---

## ğŸƒ æ—¥å¸¸é‹ç”¨ã‚³ãƒãƒ³ãƒ‰

| æ“ä½œ                 | ã‚³ãƒãƒ³ãƒ‰ä¾‹            | èª¬æ˜                               |
| -------------------- | --------------------- | ---------------------------------- |
| ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•         | `make start`          | å…¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰èµ·å‹•   |
| ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢         | `make stop`           | å…¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’åœæ­¢                   |
| ã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹•       | `make restart`        | å…¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’å†èµ·å‹•                 |
| ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹ç¢ºèª     | `make status`         | ã‚µãƒ¼ãƒ“ã‚¹ã®çŠ¶æ…‹ä¸€è¦§ã‚’è¡¨ç¤º           |
| å…¨ãƒ­ã‚°è¡¨ç¤º           | `make logs`           | å…¨ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ã‚°ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ­ã‚°   | `make frontend-logs`  | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ­ã‚°ã®ã¿è¡¨ç¤º       |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°     | `make backend-logs`   | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ­ã‚°ã®ã¿è¡¨ç¤º         |
| DB ãƒ­ã‚°              | `make db-logs`        | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ­ã‚°ã®ã¿è¡¨ç¤º         |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚·ã‚§ãƒ« | `make frontend-shell` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã‚‹       |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚§ãƒ«   | `make backend-shell`  | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã‚‹         |
| DB ã‚·ã‚§ãƒ«            | `make db-shell`       | psql ã§ DB ã«å…¥ã‚‹                  |
| ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—       | `make clean`          | ã‚³ãƒ³ãƒ†ãƒŠãƒ»ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’å…¨å‰Šé™¤       |
| ã‚¤ãƒ¡ãƒ¼ã‚¸å†ãƒ“ãƒ«ãƒ‰     | `make rebuild`        | Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å†ãƒ“ãƒ«ãƒ‰          |
| DB ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³  | `make migrate`        | Alembic ã§ DB ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ   | `make test`           | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã® pytest ã‚’å®Ÿè¡Œ       |
| ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§         | `make help`           | ã™ã¹ã¦ã®ã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤º             |

---

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: React + TypeScript, Tailwind CSS v3, shadcn/ui, Yarn v4, Node.js v22
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: FastAPI, Python 3.11
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL 15
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Redis 7
- **ã‚¤ãƒ³ãƒ•ãƒ©**: Docker Compose, Nginx

---

## ğŸ—‚ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
team-insight/
â”œâ”€â”€ frontend/          # React + TypeScript ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ .yarnrc.yml
â”‚   â”œâ”€â”€ postcss.config.js
â”‚   â”œâ”€â”€ ...
â”œâ”€â”€ backend/           # FastAPI ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â””â”€â”€ app/
â”œâ”€â”€ infrastructure/    # Dockerè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ docker/
â”‚       â”œâ”€â”€ frontend/
â”‚       â”œâ”€â”€ backend/
â”‚       â”œâ”€â”€ postgresql/
â”‚       â”œâ”€â”€ redis/
â”‚       â””â”€â”€ nginx/
â”œâ”€â”€ docker-compose.yml # Docker Composeè¨­å®š
â”œâ”€â”€ Makefile           # ä¾¿åˆ©ãªã‚³ãƒãƒ³ãƒ‰é›†
â””â”€â”€ setup.sh           # åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```

---

## ğŸ§© ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

- **ãƒãƒ¼ãƒˆç«¶åˆ**
  3000, 8000, 5432, 6379, 80 ãŒä»–ã®ãƒ—ãƒ­ã‚»ã‚¹ã§ä½¿ã‚ã‚Œã¦ã„ãªã„ã‹ç¢ºèª

- **Docker æ¨©é™ã‚¨ãƒ©ãƒ¼ï¼ˆLinuxï¼‰**

  ```bash
  sudo usermod -aG docker $USER
  # ãã®å¾Œãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒ»å†ãƒ­ã‚°ã‚¤ãƒ³
  ```

- **ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ã—ãªã„å ´åˆ**

  1. Docker ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
  2. `docker-compose logs <serviceå>` ã§ã‚¨ãƒ©ãƒ¼ç¢ºèª
  3. `make clean` â†’ `make setup` ã§å†æ§‹ç¯‰

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä¾å­˜é–¢ä¿‚ã®å•é¡Œ**

  ```bash
  cd frontend
  corepack enable
  yarn install
  cd ..
  docker-compose build frontend
  docker-compose restart frontend
  ```

- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ pydantic ã® extra_forbidden ã‚¨ãƒ©ãƒ¼**
  - `app/core/config.py` ã® `Settings` ã‚¯ãƒ©ã‚¹ã« `REDIS_URL: str = "redis://redis:6379"` ã‚’è¿½åŠ 

---

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. feature ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
   `git checkout -b feature/your-feature`
2. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ
   `git commit -m 'Add your feature'`
3. ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒƒã‚·ãƒ¥
   `git push origin feature/your-feature`
4. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

---

## ğŸ’¡ è£œè¶³

- `.gitignore`ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã¨ frontend é…ä¸‹ã®ä¸¡æ–¹ã«è¨­ç½®ã—ã€ç”¨é€”ã”ã¨ã«ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚
- Node.js 22 + Yarn v4(Corepack) + Tailwind CSS v3 + Docker Compose ã®çµ„ã¿åˆã‚ã›ã§å®‰å®šå‹•ä½œã‚’ç¢ºèªæ¸ˆã¿ã§ã™ã€‚
- è©³ç´°ãªã‚³ãƒãƒ³ãƒ‰ã‚„é‹ç”¨ãƒ•ãƒ­ãƒ¼ã¯`Makefile`ã‚„æœ¬ README ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
