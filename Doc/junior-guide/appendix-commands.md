# ã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Team Insighté–‹ç™ºã§ä½¿ç”¨ã™ã‚‹ä¸»è¦ãªã‚³ãƒãƒ³ãƒ‰ã‚’ã¾ã¨ã‚ãŸãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã§ã™ã€‚å„ã‚³ãƒãƒ³ãƒ‰ã®æ„å‘³ã€ä½¿ã„æ–¹ã€å®Ÿè¡Œçµæœã‚’è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚

## ğŸŒŸ ã¯ã˜ã‚ã«ï¼šã‚³ãƒãƒ³ãƒ‰ã¨ã¯ï¼Ÿ

### ğŸ’» ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆCLIï¼‰

**ã‚³ãƒãƒ³ãƒ‰ = ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¸ã®æ–‡å­—ã«ã‚ˆã‚‹å‘½ä»¤**

```
GUIï¼ˆã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ï¼‰         CLIï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒã‚¦ã‚¹ã§     â”‚          â”‚ $ make start â”‚
â”‚ ãƒœã‚¿ãƒ³ã‚’     â”‚    vs    â”‚ ï¼ˆæ–‡å­—ã§     â”‚
â”‚ ã‚¯ãƒªãƒƒã‚¯     â”‚          â”‚  å‘½ä»¤ï¼‰      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ãƒ¡ãƒªãƒƒãƒˆï¼š
- é«˜é€Ÿãªæ“ä½œ
- è‡ªå‹•åŒ–ãŒå¯èƒ½
- è¤‡é›‘ãªæ“ä½œã‚‚1è¡Œã§å®Ÿè¡Œ
```

### ğŸ¯ ãªãœMakefileã‚’ä½¿ã†ã®ã‹ï¼Ÿ

**Makefile = ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã‚’ã¾ã¨ã‚ãŸä¾¿åˆ©å¸³**

```bash
# MakefileãŒãªã„å ´åˆ
docker-compose -f docker-compose.yml up -d postgres redis
docker-compose -f docker-compose.yml up -d backend
docker-compose -f docker-compose.yml up -d frontend nginx
# ...é•·ãã¦è¦šãˆã‚‰ã‚Œãªã„ï¼

# MakefileãŒã‚ã‚‹å ´åˆ
make start
# ç°¡å˜ï¼
```

## ğŸ“‹ Makefileã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

### åŸºæœ¬æ“ä½œ

#### ğŸš€ åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
make setup
```

**ä½•ã‚’ã™ã‚‹ã‹**ï¼šé–‹ç™ºç’°å¢ƒã‚’æœ€åˆã‹ã‚‰æ§‹ç¯‰
- Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆ
- åˆæœŸãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œ
- åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥

**ã„ã¤ä½¿ã†ã‹**ï¼š
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ãŸç›´å¾Œ
- ç’°å¢ƒã‚’å®Œå…¨ã«ãƒªã‚»ãƒƒãƒˆã—ãŸã„æ™‚

**å®Ÿè¡Œçµæœ**ï¼š
```
Creating network "team-insight_default"...
Building backend...
Building frontend...
Creating postgres... done
Creating redis... done
Running migrations...
Setup complete! Access http://localhost
```

#### ğŸ® ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•ãƒ»åœæ­¢

```bash
make start          # å…¨ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼šã™ã¹ã¦ã®Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•
- PostgreSQLã€Redisï¼ˆãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ï¼‰
- Backendã€Frontendï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- Nginxï¼ˆãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ï¼‰

**ã„ã¤ä½¿ã†ã‹**ï¼šé–‹ç™ºä½œæ¥­ã‚’å§‹ã‚ã‚‹æ™‚

```bash
make stop           # å…¨ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼šã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢ï¼ˆãƒ‡ãƒ¼ã‚¿ã¯ä¿æŒï¼‰

**ã„ã¤ä½¿ã†ã‹**ï¼šé–‹ç™ºä½œæ¥­ã‚’çµ‚ãˆã‚‹æ™‚

```bash
make restart        # å…¨ã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹•
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼šstop â†’ start ã‚’é †ç•ªã«å®Ÿè¡Œ

**ã„ã¤ä½¿ã†ã‹**ï¼šè¨­å®šå¤‰æ›´ã‚’åæ˜ ã•ã›ãŸã„æ™‚

```bash
make status         # ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹ç¢ºèª
```
**å®Ÿè¡Œçµæœã®ä¾‹**ï¼š
```
NAME                 STATUS    PORTS
team-insight-postgres   Up      5432/tcp
team-insight-redis      Up      6379/tcp
team-insight-backend    Up      8000/tcp
team-insight-frontend   Up      3000/tcp
team-insight-nginx      Up      0.0.0.0:80->80/tcp
```

#### ğŸ§¹ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

```bash
make clean          # ã‚³ãƒ³ãƒ†ãƒŠã¨ãƒœãƒªãƒ¥ãƒ¼ãƒ å‰Šé™¤
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’å‰Šé™¤
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚‚å‰Šé™¤ï¼ˆâš ï¸ æ³¨æ„ï¼‰
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã‚‚å‰Šé™¤

**ã„ã¤ä½¿ã†ã‹**ï¼š
- å®Œå…¨ã«ç’°å¢ƒã‚’ãƒªã‚»ãƒƒãƒˆã—ãŸã„æ™‚
- ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ã‚’ç©ºã‘ãŸã„æ™‚

```bash
make rebuild        # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã—ã§å†ãƒ“ãƒ«ãƒ‰
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- Dockerã®ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ã‚ãšã«å†æ§‹ç¯‰
- æœ€æ–°ã®ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

**ã„ã¤ä½¿ã†ã‹**ï¼š
- requirements.txtã‚„package.jsonã‚’æ›´æ–°ã—ãŸæ™‚
- ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒè§£æ±ºã—ãªã„æ™‚

### ãƒ­ã‚°ç¢ºèª

#### ğŸ“ ãƒ­ã‚°ã¨ã¯ï¼Ÿ

**ãƒ­ã‚° = ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‹•ä½œè¨˜éŒ²**

```
ãƒ­ã‚°ã®ä¾‹ï¼š
[2024-01-15 10:30:45] INFO: User logged in: tanaka@example.com
[2024-01-15 10:31:02] ERROR: Database connection failed
[2024-01-15 10:31:03] DEBUG: Retrying connection...
```

#### ğŸ” å…¨ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ã‚°

```bash
make logs           # ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ï¼ˆCtrl+Cã§çµ‚äº†ï¼‰
```
**ä½•ã‚’è¦‹ã‚‰ã‚Œã‚‹ã‹**ï¼šã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ã‚°ã‚’åŒæ™‚ã«è¡¨ç¤º
**ä½¿ã„æ–¹**ï¼š
- æ–°ã—ã„ãƒ­ã‚°ãŒè‡ªå‹•çš„ã«è¡¨ç¤ºã•ã‚Œã‚‹
- Ctrl+C ã§è¡¨ç¤ºã‚’çµ‚äº†

```bash
make logs-tail      # æœ€æ–°100è¡Œ
```
**ä½•ã‚’è¦‹ã‚‰ã‚Œã‚‹ã‹**ï¼šå„ã‚µãƒ¼ãƒ“ã‚¹ã®æœ€æ–°100è¡Œã®ãƒ­ã‚°
**ã„ã¤ä½¿ã†ã‹**ï¼šã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèªã—ãŸã„æ™‚

#### ğŸ¯ ã‚µãƒ¼ãƒ“ã‚¹åˆ¥ãƒ­ã‚°

```bash
make frontend-logs  # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ­ã‚°
```
**ã‚ˆãè¦‹ã‚‹ãƒ­ã‚°**ï¼š
```
âœ“ Compiled successfully
â–² Next.js 14.1.0
- Local: http://localhost:3000
```

```bash
make backend-logs   # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°
```
**ã‚ˆãè¦‹ã‚‹ãƒ­ã‚°**ï¼š
```
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000
```

```bash
make db-logs        # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ­ã‚°
```
**ä½•ã‚’ç¢ºèªã§ãã‚‹ã‹**ï¼š
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
- å®Ÿè¡Œã•ã‚ŒãŸSQL
- ã‚¨ãƒ©ãƒ¼æƒ…å ±

#### ğŸš¦ Nginxã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°

```bash
make nginx-access-log   # ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°
```
**ãƒ­ã‚°ã®è¦‹æ–¹**ï¼š
```
192.168.1.1 - - [15/Jan/2024:10:30:45 +0000] "GET /api/v1/users HTTP/1.1" 200 1234
â””â”€ IPã‚¢ãƒ‰ãƒ¬ã‚¹   â””â”€ æ—¥æ™‚                      â””â”€ ãƒªã‚¯ã‚¨ã‚¹ãƒˆ            â””â”€ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ â””â”€ ã‚µã‚¤ã‚º
```

```bash
make nginx-error-log    # ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°
```
**ä½•ãŒåˆ†ã‹ã‚‹ã‹**ï¼š
- 404ã‚¨ãƒ©ãƒ¼ï¼ˆãƒšãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚‰ãªã„ï¼‰
- 502ã‚¨ãƒ©ãƒ¼ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒåœæ­¢ä¸­ï¼‰
- è¨­å®šãƒŸã‚¹

### ã‚·ã‚§ãƒ«ã‚¢ã‚¯ã‚»ã‚¹

#### ğŸš ã‚·ã‚§ãƒ«ã¨ã¯ï¼Ÿ

**ã‚·ã‚§ãƒ« = ã‚³ãƒ³ãƒ†ãƒŠå†…éƒ¨ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³**

```
ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³              ã‚³ãƒ³ãƒ†ãƒŠå†…éƒ¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ $ make       â”‚   â†’â†’â†’   â”‚ root@abc123:â”‚
â”‚ backend-shellâ”‚         â”‚ /app#       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ’» å„ã‚³ãƒ³ãƒ†ãƒŠã¸ã®ã‚¢ã‚¯ã‚»ã‚¹

```bash
make frontend-shell # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚³ãƒ³ãƒ†ãƒŠ
```
**ä¸­ã§ä½•ãŒã§ãã‚‹ã‹**ï¼š
```bash
# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç¢ºèª
yarn list
# ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
ls -la src/
# ç’°å¢ƒå¤‰æ•°ã®ç¢ºèª
env | grep NEXT_
```

```bash
make backend-shell  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚³ãƒ³ãƒ†ãƒŠ
```
**ä¸­ã§ä½•ãŒã§ãã‚‹ã‹**ï¼š
```bash
# Pythonã‚¤ãƒ³ã‚¿ãƒ¼ãƒ—ãƒªã‚¿èµ·å‹•
python
>>> from app.models import User
>>> # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œãŒå¯èƒ½

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
pip list

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ç¢ºèª
alembic current
```

```bash
make db-shell       # PostgreSQLã‚³ãƒ³ãƒ†ãƒŠ
```
**è‡ªå‹•çš„ã«psqlã«æ¥ç¶š**ï¼š
```sql
teaminsight=# \dt team_insight.*  -- ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§
teaminsight=# SELECT COUNT(*) FROM team_insight.users;
```

**çµ‚äº†æ–¹æ³•**ï¼š`\q` ã¾ãŸã¯ `Ctrl+D`

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†

#### ğŸ—„ï¸ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†

**ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ = ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ã®å¤‰æ›´ç®¡ç†**

```bash
make migrate         # æœ€æ–°ç‰ˆã¾ã§é©ç”¨
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- æœªé©ç”¨ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã™ã¹ã¦å®Ÿè¡Œ
- ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãƒ»å¤‰æ›´ãƒ»å‰Šé™¤ã‚’è‡ªå‹•å®Ÿè¡Œ

**å®Ÿè¡Œçµæœã®ä¾‹**ï¼š
```
INFO  [alembic.runtime.migration] Running upgrade abc123 -> def456, add phone_number to users
INFO  [alembic.runtime.migration] Running upgrade def456 -> ghi789, create teams table
```

```bash
make migrate-down    # 1ã¤å‰ã«æˆ»ã™
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼šç›´å‰ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å–ã‚Šæ¶ˆã—
**ã„ã¤ä½¿ã†ã‹**ï¼šãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚

```bash
make migrate-history # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¥æ­´
```
**å®Ÿè¡Œçµæœã®ä¾‹**ï¼š
```
abc123 -> def456 (head), add phone_number to users
        -> abc123, create teams table
<base> -> xyz999, initial schema
```

```bash
make migrate-create MSG="add_new_column"  # æ–°è¦ä½œæˆ
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼šæ–°ã—ã„ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ
**ä½œæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«**ï¼š
```
migrations/versions/hij567_add_new_column.py
```

#### ğŸ’¾ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒªã‚¹ãƒˆã‚¢

```bash
make db-backup      # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å…¨ä½“ã‚’SQLãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
- backups/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ—¥æ™‚ä»˜ãã§ä¿å­˜

**ä¿å­˜å…ˆã®ä¾‹**ï¼š
```
backups/teaminsight_20240115_103045.sql
```

```bash
make db-restore     # æœ€æ–°ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- æœ€æ–°ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ã™
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å®Œå…¨ã«å¾©å…ƒ
- âš ï¸ ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã¯å¤±ã‚ã‚Œã¾ã™

```bash
make db-list-backups # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸€è¦§
```
**å®Ÿè¡Œçµæœã®ä¾‹**ï¼š
```
teaminsight_20240115_103045.sql (156MB)
teaminsight_20240114_020000.sql (154MB)
teaminsight_20240113_020000.sql (152MB)
```

#### âš ï¸ å±é™ºãªæ“ä½œ

```bash
make db-reset       # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒªã‚»ãƒƒãƒˆï¼ˆå±é™ºï¼‰
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
1. ã™ã¹ã¦ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å‰Šé™¤
2. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ€åˆã‹ã‚‰å®Ÿè¡Œ
3. åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥

**âš ï¸ æ³¨æ„**ï¼šã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã¾ã™ï¼

```bash
make db-seed        # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŠ•å…¥
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼šé–‹ç™ºç”¨ã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ 
- ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼
- ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- ãƒ€ãƒŸãƒ¼ã‚¿ã‚¹ã‚¯

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ãƒ­ãƒ¼ãƒ«ç®¡ç†

#### ğŸ‘¥ ãƒ­ãƒ¼ãƒ«ã¨ã¯ï¼Ÿ

**ãƒ­ãƒ¼ãƒ« = ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å½¹å‰²ï¼ˆæ¨©é™ã®é›†ã¾ã‚Šï¼‰**

```
Team Insightã®ãƒ­ãƒ¼ãƒ«ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ADMIN       â”‚ â†’ ã™ã¹ã¦ã®æ“ä½œãŒå¯èƒ½
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PROJECT_LEADER  â”‚ â†’ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†æ¨©é™
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    MEMBER       â”‚ â†’ åŸºæœ¬çš„ãªé–²è¦§ãƒ»æ“ä½œæ¨©é™
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ” ç®¡ç†è€…è¨­å®š

```bash
make init-admin     # ç’°å¢ƒå¤‰æ•°ã‹ã‚‰åˆæœŸç®¡ç†è€…è¨­å®š
```
**å‰ææ¡ä»¶**ï¼š`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨­å®šãŒå¿…è¦
```
INITIAL_ADMIN_EMAILS=admin@example.com,manager@example.com
```

```bash
make set-admin EMAIL=user@example.com  # ç‰¹å®šãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç®¡ç†è€…ã«
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- æŒ‡å®šã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ADMINãƒ­ãƒ¼ãƒ«ã‚’ä»˜ä¸
- ã™ã¹ã¦ã®æ©Ÿèƒ½ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ãªã‚‹

**å®Ÿè¡Œçµæœ**ï¼š
```
Setting admin role for user@example.com...
âœ“ User user@example.com is now an admin
```

#### ğŸ­ ãƒ­ãƒ¼ãƒ«ç®¡ç†

```bash
make set-role EMAIL=user@example.com ROLE=PROJECT_LEADER
```
**ä½¿ç”¨å¯èƒ½ãªãƒ­ãƒ¼ãƒ«**ï¼š
- `ADMIN`ï¼šã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…
- `PROJECT_LEADER`ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ€ãƒ¼
- `MEMBER`ï¼šä¸€èˆ¬ãƒ¡ãƒ³ãƒãƒ¼

```bash
make remove-role EMAIL=user@example.com ROLE=MEMBER
```
**ä½•ã‚’ã™ã‚‹ã‹**ï¼šæŒ‡å®šã—ãŸãƒ­ãƒ¼ãƒ«ã‚’å‰Šé™¤
**æ³¨æ„**ï¼šã™ã¹ã¦ã®ãƒ­ãƒ¼ãƒ«ã‚’å‰Šé™¤ã™ã‚‹ã¨ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ã«

```bash
make list-users     # å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ãƒ­ãƒ¼ãƒ«ä¸€è¦§
```
**å®Ÿè¡Œçµæœã®ä¾‹**ï¼š
```
Email                    Name           Roles                    Active
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
admin@example.com       ç®¡ç†è€…å¤ªéƒ      ADMIN                    âœ“
tanaka@example.com      ç”°ä¸­èŠ±å­        PROJECT_LEADER, MEMBER   âœ“
sato@example.com        ä½è—¤æ¬¡éƒ        MEMBER                   âœ“
inactive@example.com    é€€è·è€…          MEMBER                   âœ—
```

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ
make test           # å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
make test-verbose   # è©³ç´°å‡ºåŠ›
make test-coverage  # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆä»˜ã
make test-unit      # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ã¿
make test-integration # çµ±åˆãƒ†ã‚¹ãƒˆã®ã¿

# å‹ãƒã‚§ãƒƒã‚¯ãƒ»é™çš„è§£æ
make type-check     # mypyã«ã‚ˆã‚‹å‹ãƒã‚§ãƒƒã‚¯
make lint           # flake8ã«ã‚ˆã‚‹ãƒªãƒ³ãƒˆ
make format         # blackã«ã‚ˆã‚‹è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
```

### é–‹ç™ºæ”¯æ´

```bash
# APIé–¢é€£
make api-docs       # APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’é–‹ã
make generate-types # OpenAPIã‹ã‚‰TypeScriptå‹ç”Ÿæˆ

# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
make redis-keys     # Redisã®ã‚­ãƒ¼ä¸€è¦§
make redis-flush    # Redisã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ä»˜ãï¼‰
make dev            # é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•
make dev-backend    # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿é–‹ç™ºãƒ¢ãƒ¼ãƒ‰
make dev-frontend   # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿é–‹ç™ºãƒ¢ãƒ¼ãƒ‰
```

## ğŸ³ Docker Composeã‚³ãƒãƒ³ãƒ‰

### ğŸ“¦ Docker Composeã¨ã¯ï¼Ÿ

**Docker Compose = è¤‡æ•°ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ã¾ã¨ã‚ã¦ç®¡ç†ã™ã‚‹ãƒ„ãƒ¼ãƒ«**

```
docker-compose.yml ã«å®šç¾©ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  postgres   â”‚ â†â”€â”
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   redis     â”‚ â†â”€â”¤ ä¸€æ‹¬ç®¡ç†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  backend    â”‚ â†â”€â”¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  frontend   â”‚ â†â”€â”¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   nginx     â”‚ â†â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŸºæœ¬æ“ä½œ

```bash
docker-compose up -d        # ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹•
```
**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æ„å‘³**ï¼š
- `up`ï¼šã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆã—ã¦èµ·å‹•
- `-d`ï¼ˆdetachedï¼‰ï¼šãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å®Ÿè¡Œ

```bash
docker-compose down         # åœæ­¢ã¨å‰Šé™¤
```
**ä½•ãŒèµ·ã“ã‚‹ã‹**ï¼š
1. ã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢
2. ã‚³ãƒ³ãƒ†ãƒŠã‚’å‰Šé™¤
3. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’å‰Šé™¤
4. **ãƒ‡ãƒ¼ã‚¿ã¯ä¿æŒ**ï¼ˆãƒœãƒªãƒ¥ãƒ¼ãƒ ï¼‰

```bash
docker-compose ps           # çŠ¶æ…‹ç¢ºèª
```
**è¡¨ç¤ºã•ã‚Œã‚‹æƒ…å ±**ï¼š
```
NAME                    COMMAND                  SERVICE    STATUS    PORTS
team-insight-postgres   "docker-entrypoint..."   postgres   Up        5432/tcp
team-insight-backend    "uvicorn app.main..."    backend    Up        8000/tcp
```

#### ğŸ¯ ç‰¹å®šã‚µãƒ¼ãƒ“ã‚¹ã®ã¿æ“ä½œ

```bash
docker-compose up -d backend    # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿èµ·å‹•
```
**ã„ã¤ä½¿ã†ã‹**ï¼š
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ãŸå¾Œ
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã ã‘å†èµ·å‹•ã—ãŸã„æ™‚

```bash
docker-compose stop frontend    # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿åœæ­¢
```
**stopã¨downã®é•ã„**ï¼š
- `stop`ï¼šã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢ï¼ˆå‰Šé™¤ã—ãªã„ï¼‰
- `down`ï¼šã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢ã—ã¦å‰Šé™¤

### ãƒ“ãƒ«ãƒ‰æ“ä½œ

#### ğŸ—ï¸ ãƒ“ãƒ«ãƒ‰ã¨ã¯ï¼Ÿ

**ãƒ“ãƒ«ãƒ‰ = Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½œæˆï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œç’°å¢ƒã‚’æ§‹ç¯‰ï¼‰**

```
Dockerfile â†’ ãƒ“ãƒ«ãƒ‰ â†’ Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ â†’ å®Ÿè¡Œ â†’ ã‚³ãƒ³ãƒ†ãƒŠ
â””â”€ è¨­è¨ˆå›³    â””â”€ æ§‹ç¯‰    â””â”€ å®Ÿè¡Œå¯èƒ½ãªç’°å¢ƒ  â””â”€ å‹•ä½œ  â””â”€ å®Ÿè¡Œä¸­ã®ã‚¢ãƒ—ãƒª
```

#### å…¨ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ“ãƒ«ãƒ‰
```bash
docker-compose build
```

**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
1. docker-compose.ymlã«å®šç¾©ã•ã‚ŒãŸå…¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒ“ãƒ«ãƒ‰
2. Dockerfileã®æŒ‡ç¤ºã«å¾“ã£ã¦ç’°å¢ƒæ§‹ç¯‰
3. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
4. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã®ã‚³ãƒ”ãƒ¼

**å®Ÿè¡Œçµæœã®ä¾‹**ï¼š
```
Building postgres...
[+] Building 0.5s (3/3) FINISHED
Building backend...
[+] Building 45.2s (15/15) FINISHED
 => [1/10] FROM python:3.11-slim
 => [2/10] RUN apt-get update && apt-get install -y...
 => [3/10] WORKDIR /app
 => [4/10] COPY requirements.txt .
 => [5/10] RUN pip install -r requirements.txt
```

#### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã—ã§ãƒ“ãƒ«ãƒ‰
```bash
docker-compose build --no-cache
```

**ãªãœã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã‹**ï¼š
- é€šå¸¸ã®ãƒ“ãƒ«ãƒ‰ã§ã¯å‰å›ã®çµæœã‚’å†åˆ©ç”¨ï¼ˆé«˜é€ŸåŒ–ï¼‰
- ã—ã‹ã—ã€ä»¥ä¸‹ã®å ´åˆã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒå•é¡Œã«ãªã‚‹ï¼š
  - å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æœ€æ–°ç‰ˆã‚’å–å¾—ã—ãŸã„
  - ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã®åŸå› ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ã‚‹
  - Dockerfileã®å¤‰æ›´ãŒåæ˜ ã•ã‚Œãªã„

**ä½¿ç”¨ä¾‹**ï¼š
```bash
# requirements.txtã‚’æ›´æ–°ã—ãŸãŒåæ˜ ã•ã‚Œãªã„æ™‚
docker-compose build --no-cache backend
```

#### ç‰¹å®šã‚µãƒ¼ãƒ“ã‚¹ã®ã¿ãƒ“ãƒ«ãƒ‰
```bash
docker-compose build backend     # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿
docker-compose build frontend    # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿
```

**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š
- å¤‰æ›´ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã ã‘ãƒ“ãƒ«ãƒ‰ï¼ˆæ™‚é–“çŸ­ç¸®ï¼‰
- ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã«å½±éŸ¿ã‚’ä¸ãˆãªã„

#### ã‚¤ãƒ¡ãƒ¼ã‚¸ã®å–å¾—ï¼ˆpullï¼‰
```bash
docker-compose pull
```

**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- Docker Hubã‹ã‚‰æœ€æ–°ã®ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å–å¾—
- postgres:15ã€redis:7.0.15ãªã©ã®å…¬å¼ã‚¤ãƒ¡ãƒ¼ã‚¸

**ã„ã¤ä½¿ã†ã‹**ï¼š
- ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’é©ç”¨ã—ãŸã„æ™‚
- æ–°ã—ã„ç’°å¢ƒã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹æ™‚

#### ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆpushï¼‰
```bash
docker-compose push
```

**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’Dockerãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«é€ä¿¡
- ä»–ã®é–‹ç™ºè€…ã‚„ã‚µãƒ¼ãƒãƒ¼ã§åŒã˜ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨å¯èƒ½ã«

**æ³¨æ„**ï¼šé€šå¸¸ã¯ CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹

### ãƒ­ã‚°ã¨ãƒ‡ãƒãƒƒã‚°

#### ğŸ“‹ Docker Composeã§ã®ãƒ­ã‚°ç¢ºèª

##### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°è¿½è·¡
```bash
docker-compose logs -f
```

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æ„å‘³**ï¼š
- `-f` (follow)ï¼šæ–°ã—ã„ãƒ­ã‚°ã‚’ç¶™ç¶šçš„ã«è¡¨ç¤º
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å•é¡Œã‚’è¿½è·¡ã§ãã‚‹
- `Ctrl+C` ã§çµ‚äº†

**è¡¨ç¤ºä¾‹**ï¼š
```
backend_1   | INFO:     Started server process [1]
frontend_1  | âœ“ Compiled successfully
postgres_1  | 2024-01-15 10:30:45.123 JST [1] LOG: database system is ready
redis_1     | 1:M 15 Jan 2024 10:30:45.100 * Ready to accept connections
```

##### ç‰¹å®šã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ã‚°
```bash
docker-compose logs -f backend  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿
docker-compose logs -f frontend postgres  # è¤‡æ•°æŒ‡å®šã‚‚å¯èƒ½
```

**ä½¿ã„åˆ†ã‘**ï¼š
- ã‚¨ãƒ©ãƒ¼ã®åŸå› ã‚’ç‰¹å®šã—ãŸã„æ™‚
- ç‰¹å®šã®ã‚µãƒ¼ãƒ“ã‚¹ã®å‹•ä½œã‚’ç¢ºèªã—ãŸã„æ™‚

##### ãƒ­ã‚°ã®çµã‚Šè¾¼ã¿
```bash
docker-compose logs --tail=100  # æœ€æ–°100è¡Œã®ã¿
docker-compose logs --tail=50 backend  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®æœ€æ–°50è¡Œ
```

**ãªãœä½¿ã†ã‹**ï¼š
- å…¨ãƒ­ã‚°ã¯è†¨å¤§ã§èª­ã¿ã¥ã‚‰ã„
- ã‚¨ãƒ©ãƒ¼ã¯é€šå¸¸æœ€å¾Œã®æ–¹ã«å‡ºåŠ›ã•ã‚Œã‚‹

##### ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ããƒ­ã‚°
```bash
docker-compose logs -t
```

**è¡¨ç¤ºä¾‹**ï¼š
```
2024-01-15T10:30:45.123456789Z backend_1 | INFO: Request received
2024-01-15T10:30:45.234567890Z backend_1 | ERROR: Database connection failed
```

**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š
- ã‚¨ãƒ©ãƒ¼ã®ç™ºç”Ÿæ™‚åˆ»ãŒæ­£ç¢ºã«ã‚ã‹ã‚‹
- è¤‡æ•°ã‚µãƒ¼ãƒ“ã‚¹é–“ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°å•é¡Œã‚’èª¿æŸ»ã§ãã‚‹

#### ğŸ› ãƒ‡ãƒãƒƒã‚°æ“ä½œ

##### ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
```bash
docker-compose exec backend bash
```

**execã¨ã¯**ï¼š
- å®Ÿè¡Œä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ
- ãƒ‡ãƒãƒƒã‚°ã‚„ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèªã«ä½¿ç”¨

**ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã§ãã‚‹ã“ã¨**ï¼š
```bash
# Pythonã‚¤ãƒ³ã‚¿ãƒ¼ãƒ—ãƒªã‚¿èµ·å‹•
python
>>> from app.models import User
>>> User.query.all()

# ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -la /app/
cat /app/.env

# ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª
ps aux
```

##### æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒŠã§ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
```bash
docker-compose run --rm backend env
```

**runã¨execã®é•ã„**ï¼š
- `exec`ï¼šæ—¢å­˜ã®ã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œ
- `run`ï¼šæ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆã—ã¦å®Ÿè¡Œ
- `--rm`ï¼šå®Ÿè¡Œå¾Œã«ã‚³ãƒ³ãƒ†ãƒŠã‚’è‡ªå‹•å‰Šé™¤

**ä½¿ç”¨ä¾‹**ï¼š
```bash
# ç’°å¢ƒå¤‰æ•°ã®ç¢ºèª
docker-compose run --rm backend env | grep DATABASE

# Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œ
docker-compose run --rm backend python scripts/test_connection.py

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ
docker-compose run --rm backend alembic upgrade head
```

##### ãƒ—ãƒ­ã‚»ã‚¹ä¸€è¦§
```bash
docker-compose top
```

**è¡¨ç¤ºä¾‹**ï¼š
```
team-insight-backend
UID    PID    PPID   C   STIME   TTY   TIME       CMD
root   1234   1000   0   10:30   ?     00:00:15   python -m uvicorn app.main:app
root   1235   1234   0   10:30   ?     00:00:05   /usr/local/bin/python
```

**ç¢ºèªã§ãã‚‹ã“ã¨**ï¼š
- ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚»ã‚¹
- CPUä½¿ç”¨ç‡ãŒé«˜ã„ãƒ—ãƒ­ã‚»ã‚¹
- äºˆæœŸã—ãªã„ãƒ—ãƒ­ã‚»ã‚¹ã®å­˜åœ¨

## ğŸ Pythonã‚³ãƒãƒ³ãƒ‰ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†

#### ğŸ“¦ pipã¨ã¯ï¼Ÿ

**pip = Python Package Installerï¼ˆPythonã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ãƒ„ãƒ¼ãƒ«ï¼‰**

```
npm (JavaScript) â‰ˆ pip (Python) â‰ˆ gem (Ruby)
```

#### ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pip install -r requirements.txt
```

**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- requirements.txtã«è¨˜è¼‰ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¸€æ‹¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚æŒ‡å®šé€šã‚Šã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

**requirements.txtã®ä¸­èº«ã®ä¾‹**ï¼š
```
fastapi==0.109.2
pydantic==2.6.1
sqlalchemy==2.0.27
redis==5.0.1
```

#### é–‹ç™ºç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pip install -r requirements-dev.txt
```

**é–‹ç™ºç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã¯**ï¼š
- ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ï¼ˆpytestã€pytest-covï¼‰
- ã‚³ãƒ¼ãƒ‰å“è³ªãƒ„ãƒ¼ãƒ«ï¼ˆblackã€flake8ã€mypyï¼‰
- ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«ï¼ˆipythonã€ipdbï¼‰

#### æ–°ã—ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¿½åŠ 
```bash
# 1. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install requests

# 2. requirements.txtã«è¿½åŠ 
pip freeze > requirements.txt
```

**âš ï¸ æ³¨æ„**ï¼š
- `pip freeze`ã¯ä»®æƒ³ç’°å¢ƒå†…ã§å®Ÿè¡Œã™ã‚‹ã“ã¨
- ã‚°ãƒ­ãƒ¼ãƒãƒ«ç’°å¢ƒã§å®Ÿè¡Œã™ã‚‹ã¨ä¸è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚å«ã¾ã‚Œã‚‹

**ã‚ˆã‚Šå®‰å…¨ãªæ–¹æ³•**ï¼š
```bash
# ç‰¹å®šã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã ã‘è¿½åŠ 
echo "requests==2.31.0" >> requirements.txt
```

### FastAPIé–‹ç™º

#### ğŸš€ é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æ„å‘³**ï¼š
- `app.main:app`ï¼šapp/main.pyãƒ•ã‚¡ã‚¤ãƒ«ã®appã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•
- `--reload`ï¼šã‚³ãƒ¼ãƒ‰å¤‰æ›´æ™‚ã«è‡ªå‹•å†èµ·å‹•ï¼ˆé–‹ç™ºæ™‚ã®ã¿ï¼‰
- `--host 0.0.0.0`ï¼šã™ã¹ã¦ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§å—ä¿¡
- `--port 8000`ï¼šãƒãƒ¼ãƒˆ8000ã§èµ·å‹•

**èµ·å‹•æ™‚ã®ãƒ­ã‚°**ï¼š
```
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using StatReload
INFO:     Started server process [8]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```

#### æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
```bash
gunicorn app.main:app -w 4 -k uvicorn.workers.UvicornWorker
```

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æ„å‘³**ï¼š
- `-w 4`ï¼š4ã¤ã®ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹ã‚’èµ·å‹•ï¼ˆCPUã‚³ã‚¢æ•°ã«åˆã‚ã›ã‚‹ï¼‰
- `-k uvicorn.workers.UvicornWorker`ï¼šéåŒæœŸå‡¦ç†å¯¾å¿œã®ãƒ¯ãƒ¼ã‚«ãƒ¼

**é–‹ç™ºç”¨uvicornã¨ã®é•ã„**ï¼š
- è¤‡æ•°ã®ãƒ¯ãƒ¼ã‚«ãƒ¼ã§ä¸¦åˆ—å‡¦ç†ï¼ˆé«˜è² è·å¯¾å¿œï¼‰
- è‡ªå‹•å†èµ·å‹•ãªã—ï¼ˆå®‰å®šæ€§é‡è¦–ï¼‰
- ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†æ©Ÿèƒ½ã‚ã‚Š

#### OpenAPIä»•æ§˜ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
```bash
python -c "from app.main import app; import json; print(json.dumps(app.openapi()))" > openapi.json
```

**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- FastAPIãŒè‡ªå‹•ç”Ÿæˆã™ã‚‹APIä»•æ§˜ã‚’JSONå½¢å¼ã§å‡ºåŠ›
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å‹ç”Ÿæˆã«ä½¿ç”¨
- API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å…ƒãƒ‡ãƒ¼ã‚¿

**ã‚‚ã£ã¨ç°¡å˜ãªæ–¹æ³•**ï¼š
```bash
# APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹
curl http://localhost:8000/openapi.json > openapi.json
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ

#### ğŸ—„ï¸ Alembicãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

##### æ–°ã—ã„ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ
```bash
alembic revision --autogenerate -m "add phone_number to users"
```

**ä½•ãŒèµ·ã“ã‚‹ã‹**ï¼š
1. ãƒ¢ãƒ‡ãƒ«ã®å¤‰æ›´ã‚’è‡ªå‹•æ¤œå‡º
2. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ
3. `migrations/versions/`ã«ä¿å­˜

**ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹**ï¼š
```python
"""add phone_number to users

Revision ID: abc123
Revises: def456
Create Date: 2024-01-15 10:30:45.123456

"""
def upgrade():
    op.add_column('users', sa.Column('phone_number', sa.String(20)))

def downgrade():
    op.drop_column('users', 'phone_number')
```

##### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ
```bash
alembic upgrade head  # æœ€æ–°ç‰ˆã¾ã§é©ç”¨
alembic upgrade +1    # 1ã¤ã ã‘é€²ã‚ã‚‹
alembic upgrade abc123  # ç‰¹å®šã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã¾ã§
```

##### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å–ã‚Šæ¶ˆã—
```bash
alembic downgrade -1    # 1ã¤å‰ã«æˆ»ã™
alembic downgrade base  # åˆæœŸçŠ¶æ…‹ã«æˆ»ã™ï¼ˆå±é™ºï¼ï¼‰
```

**ã„ã¤ä½¿ã†ã‹**ï¼š
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸæ™‚
- é–‹ç™ºä¸­ã«å¤‰æ›´ã‚’å–ã‚Šæ¶ˆã—ãŸã„æ™‚

#### SQLAlchemy ã‚·ã‚§ãƒ«
```bash
python -c "from app.db.session import SessionLocal; db = SessionLocal(); from IPython import embed; embed()"
```

**å¯¾è©±çš„ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ**ï¼š
```python
# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ¤œç´¢
from app.models import User
users = db.query(User).all()
for user in users:
    print(f"{user.name}: {user.email}")

# æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ
new_user = User(name="æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼", email="new@example.com")
db.add(new_user)
db.commit()

# æ¡ä»¶æ¤œç´¢
active_users = db.query(User).filter(User.is_active == True).count()
print(f"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°: {active_users}")
```

**çµ‚äº†æ–¹æ³•**ï¼š`exit()` ã¾ãŸã¯ `Ctrl+D`

## ğŸ“¦ Node.js/Yarnã‚³ãƒãƒ³ãƒ‰ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†

#### ğŸ§¶ Yarnã¨ã¯ï¼Ÿ

**Yarn = JavaScriptã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼ˆnpmã®é«˜é€Ÿç‰ˆï¼‰**

```
Team Insightã§ã¯Yarn Berry (v4)ã‚’ä½¿ç”¨
â”œâ”€ é«˜é€Ÿã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
â”œâ”€ å³å¯†ãªä¾å­˜é–¢ä¿‚ç®¡ç†
â””â”€ ã‚¼ãƒ­ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯¾å¿œ
```

#### ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
yarn install
```

**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- package.jsonã«è¨˜è¼‰ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- yarn.lockãƒ•ã‚¡ã‚¤ãƒ«ã§å³å¯†ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
- .pnp.cjsãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æƒ…å ±ã‚’è¨˜éŒ²

**å®Ÿè¡Œçµæœã®ä¾‹**ï¼š
```
â¤ YN0000: â”Œ Resolution step
â¤ YN0000: â”‚ âœ“ react@npm:18.2.0
â¤ YN0000: â”‚ âœ“ next@npm:14.1.0
â¤ YN0000: â”” Completed in 2s 341ms
â¤ YN0000: â”Œ Fetch step
â¤ YN0000: â”” Completed in 5s 123ms
â¤ YN0000: â”Œ Link step
â¤ YN0000: â”” Completed in 1s 456ms
â¤ YN0000: Done in 8s 920ms
```

#### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¿½åŠ 
```bash
yarn add package-name          # æœ¬ç•ªä¾å­˜é–¢ä¿‚
yarn add -D package-name       # é–‹ç™ºä¾å­˜é–¢ä¿‚
```

**ä¾‹**ï¼š
```bash
# ãƒãƒ£ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¿½åŠ 
yarn add recharts

# å‹å®šç¾©ã‚’é–‹ç™ºä¾å­˜é–¢ä¿‚ã¨ã—ã¦è¿½åŠ 
yarn add -D @types/recharts
```

**package.jsonã¸ã®åæ˜ **ï¼š
```json
{
  "dependencies": {
    "recharts": "^2.10.3"
  },
  "devDependencies": {
    "@types/recharts": "^1.8.28"
  }
}
```

#### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å‰Šé™¤
```bash
yarn remove package-name
```

**ä½•ãŒèµ·ã“ã‚‹ã‹**ï¼š
1. package.jsonã‹ã‚‰å‰Šé™¤
2. yarn.lockã‚’æ›´æ–°
3. ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

#### ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
```bash
yarn upgrade-interactive
```

**è¡¨ç¤ºä¾‹**ï¼š
```
? Choose which packages to update. (Press <space> to select)
â¯ â—¯ next                  14.0.0 â†’ 14.1.0
  â—¯ @types/react         18.2.0 â†’ 18.2.45
  â—¯ eslint                8.50.0 â†’ 8.56.0
```

**æ“ä½œæ–¹æ³•**ï¼š
- ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã§é¸æŠ/è§£é™¤
- Enterã§å®Ÿè¡Œ
- ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã«ã¯æ³¨æ„

### Next.jsé–‹ç™º

#### âš¡ é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
```bash
yarn dev
```

**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- Next.jsé–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
- ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ï¼ˆè‡ªå‹•æ›´æ–°ï¼‰
- ã‚¨ãƒ©ãƒ¼ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º

**èµ·å‹•æ™‚ã®ãƒ­ã‚°**ï¼š
```
â–² Next.js 14.1.0
- Local:        http://localhost:3000
- Environments: .env.local

âœ“ Ready in 2.5s
```

**ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã¨ã¯**ï¼š
```
ã‚³ãƒ¼ãƒ‰å¤‰æ›´ â†’ è‡ªå‹•æ¤œçŸ¥ â†’ ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•æ›´æ–°
                â†“
            æ‰‹å‹•ãƒªãƒ­ãƒ¼ãƒ‰ä¸è¦ï¼
```

#### ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
```bash
yarn build
```

**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
1. TypeScriptã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
2. ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ï¼ˆåœ§ç¸®ãƒ»ãƒãƒ³ãƒ‰ãƒ«ï¼‰
3. é™çš„ãƒšãƒ¼ã‚¸ã®ç”Ÿæˆ
4. ãƒ“ãƒ«ãƒ‰ã‚µã‚¤ã‚ºã®åˆ†æ

**ãƒ“ãƒ«ãƒ‰çµæœã®ä¾‹**ï¼š
```
Route (app)                              Size     First Load JS
â”Œ â—‹ /                                    178 B          87.2 kB
â”œ â—‹ /api/health                          0 B                0 B
â”œ â—‹ /dashboard/personal                  3.42 kB        95.6 kB
â”” â—‹ /projects                            2.18 kB        89.4 kB

â—‹  (Static)  prerendered as static content
```

**è¨˜å·ã®æ„å‘³**ï¼š
- `â—‹` é™çš„ãƒšãƒ¼ã‚¸ï¼ˆäº‹å‰ç”Ÿæˆï¼‰
- `Î»` ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
- `â—` ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«é™çš„å†ç”Ÿæˆ

#### ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
```bash
yarn start
```

**å‰ææ¡ä»¶**ï¼š`yarn build`ã®å®Ÿè¡ŒãŒå¿…è¦

**é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¨ã®é•ã„**ï¼š
| é …ç›® | yarn dev | yarn start |
|------|----------|------------|
| ç”¨é€” | é–‹ç™ºæ™‚ | æœ¬ç•ªç’°å¢ƒ |
| é€Ÿåº¦ | é…ã„ | é«˜é€Ÿ |
| æœ€é©åŒ– | ãªã— | ã‚ã‚Š |
| ã‚¨ãƒ©ãƒ¼è¡¨ç¤º | è©³ç´° | æœ€å°é™ |

#### ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºåˆ†æ
```bash
yarn analyze
```

**ä½•ãŒã‚ã‹ã‚‹ã‹**ï¼š
- ã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå®¹é‡ã‚’å ã‚ã¦ã„ã‚‹ã‹
- ä¸è¦ãªã‚³ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¦ã„ãªã„ã‹
- æœ€é©åŒ–ã®ä½™åœ°ãŒã‚ã‚‹ã‹

**åˆ†æçµæœã®è¦‹æ–¹**ï¼š
```
Bundle Analysis
â”œâ”€ node_modules (850KB)
â”‚  â”œâ”€ react-dom (120KB)
â”‚  â”œâ”€ @tanstack/react-query (95KB)
â”‚  â””â”€ d3 (280KB) â† å¤§ãã„ï¼
â””â”€ src (150KB)
```

#### TypeScriptãƒã‚§ãƒƒã‚¯
```bash
yarn type-check
```

**ä½•ã‚’ã™ã‚‹ã‹**ï¼š
- å‹ã‚¨ãƒ©ãƒ¼ã®ãƒã‚§ãƒƒã‚¯
- ãƒ“ãƒ«ãƒ‰å‰ã®äº‹å‰ç¢ºèª
- CIã§ã®è‡ªå‹•ãƒã‚§ãƒƒã‚¯

**ã‚¨ãƒ©ãƒ¼ä¾‹**ï¼š
```typescript
src/components/UserCard.tsx:15:5
Type 'string' is not assignable to type 'number'.
  13 |   const user: User = {
  14 |     id: 1,
> 15 |     age: "25", // â† ã‚¨ãƒ©ãƒ¼ï¼šæ•°å€¤å‹ã«æ–‡å­—åˆ—
  16 |   }
```

### ãƒ†ã‚¹ãƒˆã¨ãƒªãƒ³ãƒˆ

#### ğŸ§ª ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

##### åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
yarn test
```

**ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**ï¼š
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•ä½œ
- é–¢æ•°ã®æ­£ã—ã„çµæœ
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**ãƒ†ã‚¹ãƒˆçµæœã®ä¾‹**ï¼š
```
 PASS  src/components/UserCard.test.tsx
  UserCard
    âœ“ renders user name correctly (35 ms)
    âœ“ shows active badge when user is active (12 ms)
    âœ“ handles missing data gracefully (8 ms)

Test Suites: 1 passed, 1 total
Tests:       3 passed, 3 total
```

##### ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
```bash
yarn test:watch
```

**ä½•ãŒä¾¿åˆ©ã‹**ï¼š
- ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã‚’ç›£è¦–
- å¤‰æ›´ã•ã‚ŒãŸãƒ†ã‚¹ãƒˆã®ã¿è‡ªå‹•å®Ÿè¡Œ
- é–‹ç™ºä¸­ã®TDDï¼ˆãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼‰ã«æœ€é©

**æ“ä½œæ–¹æ³•**ï¼š
```
Watch Usage
 â€º Press f to run only failed tests
 â€º Press o to only run tests related to changed files
 â€º Press p to filter by a filename regex pattern
 â€º Press q to quit watch mode
```

##### ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
```bash
yarn test:coverage
```

**ã‚«ãƒãƒ¬ãƒƒã‚¸ã¨ã¯**ï¼šãƒ†ã‚¹ãƒˆãŒã‚³ãƒ¼ãƒ‰ã®ä½•ï¼…ã‚’ã‚«ãƒãƒ¼ã—ã¦ã„ã‚‹ã‹

**ãƒ¬ãƒãƒ¼ãƒˆã®è¦‹æ–¹**ï¼š
```
--------------------|---------|----------|---------|---------|
File                | % Stmts | % Branch | % Funcs | % Lines |
--------------------|---------|----------|---------|---------|
All files           |   85.71 |       75 |     100 |   85.71 |
 components/        |   90.00 |       80 |     100 |   90.00 |
  UserCard.tsx      |   95.00 |       90 |     100 |   95.00 |
  ProjectList.tsx   |   85.00 |       70 |     100 |   85.00 |
--------------------|---------|----------|---------|---------|
```

**ç›®æ¨™**ï¼š80%ä»¥ä¸Šã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç¶­æŒ

#### ğŸ” ãƒªãƒ³ãƒˆï¼ˆã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ï¼‰

##### ESLintã®å®Ÿè¡Œ
```bash
yarn lint
```

**ä½•ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã‹**ï¼š
- ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«é•å
- æ½œåœ¨çš„ãªãƒã‚°
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

**ã‚¨ãƒ©ãƒ¼ä¾‹**ï¼š
```
src/pages/index.tsx
  12:5  error  'useState' is defined but never used     @typescript-eslint/no-unused-vars
  25:3  warning  Missing dependency 'userId' in useEffect  react-hooks/exhaustive-deps
```

##### è‡ªå‹•ä¿®æ­£
```bash
yarn lint:fix
```

**è‡ªå‹•ä¿®æ­£ã§ãã‚‹ã‚‚ã®**ï¼š
- ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ
- ã‚»ãƒŸã‚³ãƒ­ãƒ³ã®æœ‰ç„¡
- ã‚¯ã‚©ãƒ¼ãƒˆã®çµ±ä¸€
- æœªä½¿ç”¨ã®importå‰Šé™¤

**è‡ªå‹•ä¿®æ­£ã§ããªã„ã‚‚ã®**ï¼š
- ãƒ­ã‚¸ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼
- å‹ã‚¨ãƒ©ãƒ¼
- è¤‡é›‘ãªãƒ«ãƒ¼ãƒ«é•å

##### Prettierã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
```bash
yarn format
```

**Prettierã¨ã¯**ï¼šã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ï¼ˆæ•´å½¢ãƒ„ãƒ¼ãƒ«ï¼‰

**æ•´å½¢å†…å®¹**ï¼š
```javascript
// æ•´å½¢å‰
const user={name:"ç”°ä¸­",age:25,isActive:true}

// æ•´å½¢å¾Œ
const user = {
  name: "ç”°ä¸­",
  age: 25,
  isActive: true,
};
```

**VSCodeã¨ã®é€£æº**ï¼š
```json
// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode"
}
```

## ğŸ—ƒï¸ PostgreSQLã‚³ãƒãƒ³ãƒ‰

### åŸºæœ¬æ“ä½œ

#### ğŸ˜ PostgreSQLã¨ã¯ï¼Ÿ

**PostgreSQL = é«˜æ©Ÿèƒ½ãªã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**

```
Team Insightã§ã®ä½¿ç”¨:
â”œâ”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®ä¿å­˜
â”œâ”€ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»ã‚¿ã‚¹ã‚¯ãƒ‡ãƒ¼ã‚¿
â”œâ”€ æ¨©é™ç®¡ç†ï¼ˆRBACï¼‰
â””â”€ ãƒ¬ãƒãƒ¼ãƒˆé…ä¿¡å±¥æ­´
```

#### psqlã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³

##### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
```sql
\c teaminsight
```

**ä½•ã‚’ã™ã‚‹ã‹**ï¼šteaminsightãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶š

**å®Ÿè¡Œçµæœ**ï¼š
```
You are now connected to database "teaminsight" as user "teaminsight".
```

##### ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§ã®è¡¨ç¤º
```sql
\dt team_insight.*
```

**è¡¨ç¤ºä¾‹**ï¼š
```
                    List of relations
    Schema    |         Name          | Type  |   Owner    
--------------+-----------------------+-------+------------
 team_insight | activity_logs         | table | teaminsight
 team_insight | login_history         | table | teaminsight
 team_insight | projects              | table | teaminsight
 team_insight | tasks                 | table | teaminsight
 team_insight | teams                 | table | teaminsight
 team_insight | users                 | table | teaminsight
```

**ã‚¹ã‚­ãƒ¼ãƒã¨ã¯**ï¼š
```
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â””â”€ ã‚¹ã‚­ãƒ¼ãƒï¼ˆåå‰ç©ºé–“ï¼‰
   â””â”€ ãƒ†ãƒ¼ãƒ–ãƒ«

ä¾‹ï¼šteam_insight.users
    â””â”€ ã‚¹ã‚­ãƒ¼ãƒå.ãƒ†ãƒ¼ãƒ–ãƒ«å
```

##### ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã®ç¢ºèª
```sql
\d+ team_insight.users
```

**è¡¨ç¤ºå†…å®¹**ï¼š
```
                                 Table "team_insight.users"
    Column    |            Type             | Modifiers | Storage  | Description
--------------+-----------------------------+-----------+----------+-------------
 id           | integer                     | not null  | plain    | 
 email        | character varying(255)      | not null  | extended | 
 name         | character varying(100)      |           | extended | 
 is_active    | boolean                     | default t | plain    | 
 created_at   | timestamp without time zone |           | plain    | 
Indexes:
    "users_pkey" PRIMARY KEY, btree (id)
    "users_email_key" UNIQUE CONSTRAINT, btree (email)
```

#### ãƒ‡ãƒ¼ã‚¿æ“ä½œ

##### ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèª
```sql
-- æœ€åˆã®10ä»¶ã‚’è¡¨ç¤º
SELECT * FROM team_insight.users LIMIT 10;
```

**LIMITã‚’ä½¿ã†ç†ç”±**ï¼š
- å¤§é‡ãƒ‡ãƒ¼ã‚¿ã®å ´åˆã€å…¨ä»¶è¡¨ç¤ºã¯æ™‚é–“ãŒã‹ã‹ã‚‹
- ç”»é¢ã«åã¾ã‚‰ãªã„
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®è² è·è»½æ¸›

##### ä»¶æ•°ã®ç¢ºèª
```sql
SELECT COUNT(*) FROM team_insight.tasks;
```

**çµæœä¾‹**ï¼š
```
 count 
-------
  1523
(1 row)
```

##### æ¡ä»¶ä»˜ãæ¤œç´¢
```sql
-- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿
SELECT name, email 
FROM team_insight.users 
WHERE is_active = true
ORDER BY created_at DESC
LIMIT 20;
```

**SQLã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®æ„å‘³**ï¼š
- `WHERE`ï¼šæ¡ä»¶æŒ‡å®š
- `ORDER BY`ï¼šä¸¦ã³æ›¿ãˆ
- `DESC`ï¼šé™é †ï¼ˆæ–°ã—ã„é †ï¼‰
- `ASC`ï¼šæ˜‡é †ï¼ˆå¤ã„é †ï¼‰

### ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

#### ğŸ§¹ VACUUMã¨ã¯ï¼Ÿ

**VACUUM = ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æƒé™¤æ©Ÿèƒ½**

```sql
VACUUM ANALYZE team_insight.tasks;
```

**ãªãœå¿…è¦ã‹**ï¼š
- PostgreSQLã¯å‰Šé™¤ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’å³åº§ã«æ¶ˆã•ãªã„
- ã€Œå‰Šé™¤ãƒãƒ¼ã‚¯ã€ã‚’ã¤ã‘ã‚‹ã ã‘ï¼ˆé«˜é€ŸåŒ–ã®ãŸã‚ï¼‰
- VACUUMã§å®Ÿéš›ã«å‰Šé™¤ã—ã¦é ˜åŸŸã‚’å›å

**ANALYZEã®åŠ¹æœ**ï¼š
- ãƒ†ãƒ¼ãƒ–ãƒ«ã®çµ±è¨ˆæƒ…å ±ã‚’æ›´æ–°
- ã‚¯ã‚¨ãƒªã®å®Ÿè¡Œè¨ˆç”»ã‚’æœ€é©åŒ–
- æ¤œç´¢é€Ÿåº¦ã®å‘ä¸Š

**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**ï¼š
- é€šå¸¸ã¯è‡ªå‹•å®Ÿè¡Œï¼ˆautovacuumï¼‰
- å¤§é‡å‰Šé™¤ãƒ»æ›´æ–°å¾Œã¯æ‰‹å‹•å®Ÿè¡Œæ¨å¥¨

#### ğŸ”§ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®å†æ§‹ç¯‰

```sql
REINDEX TABLE team_insight.tasks;
```

**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ã¯**ï¼š
```
æœ¬ã®ç´¢å¼•ã®ã‚ˆã†ãªã‚‚ã®
â”œâ”€ ãƒ‡ãƒ¼ã‚¿ã‚’é«˜é€Ÿæ¤œç´¢
â”œâ”€ ã—ã‹ã—æ™‚é–“ã¨ã¨ã‚‚ã«æ–­ç‰‡åŒ–
â””â”€ å†æ§‹ç¯‰ã§æ€§èƒ½å›å¾©
```

**ã„ã¤ä½¿ã†ã‹**ï¼š
- æ¤œç´¢ãŒé…ããªã£ãŸæ™‚
- å¤§é‡ã®ãƒ‡ãƒ¼ã‚¿æ›´æ–°å¾Œ
- ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ã‚’ç¯€ç´„ã—ãŸã„æ™‚

#### ğŸ“Š çµ±è¨ˆæƒ…å ±ã®æ›´æ–°

```sql
ANALYZE team_insight.projects;
```

**çµ±è¨ˆæƒ…å ±ã¨ã¯**ï¼š
- ãƒ‡ãƒ¼ã‚¿ã®åˆ†å¸ƒçŠ¶æ³
- ã‚«ãƒ©ãƒ ã®å€¤ã®ç¨®é¡
- NULLã®å‰²åˆ

**PostgreSQLã®å‹•ä½œ**ï¼š
```
SQLã‚¯ã‚¨ãƒª â†’ çµ±è¨ˆæƒ…å ±ã‚’å‚ç…§ â†’ æœ€é©ãªå®Ÿè¡Œè¨ˆç”» â†’ é«˜é€Ÿå®Ÿè¡Œ
             â†‘
          ANALYZEã§æ›´æ–°
```

#### ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ãƒãƒ³ãƒ‰ã®ä½¿ã„åˆ†ã‘

| ã‚³ãƒãƒ³ãƒ‰ | ç”¨é€” | å®Ÿè¡Œé »åº¦ |
|---------|------|----------|
| VACUUM | é ˜åŸŸå›å | è‡ªå‹•/å¤§é‡å‰Šé™¤å¾Œ |
| VACUUM ANALYZE | é ˜åŸŸå›å+çµ±è¨ˆæ›´æ–° | å®šæœŸçš„ã« |
| REINDEX | ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å†æ§‹ç¯‰ | æ€§èƒ½åŠ£åŒ–æ™‚ |
| ANALYZE | çµ±è¨ˆæƒ…å ±ã®ã¿æ›´æ–° | ãƒ‡ãƒ¼ã‚¿å¤‰æ›´å¾Œ |

## ğŸ”§ Gitæ“ä½œ

### ãƒ–ãƒ©ãƒ³ãƒç®¡ç†

#### ğŸŒ³ Gitãƒ–ãƒ©ãƒ³ãƒã¨ã¯ï¼Ÿ

**ãƒ–ãƒ©ãƒ³ãƒ = é–‹ç™ºã®ä¸¦è¡Œä½œæ¥­ã‚’å¯èƒ½ã«ã™ã‚‹ä»•çµ„ã¿**

```
main/develop â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’
               â”œâ”€ feature/login â”€â”€â”€â”€â†’ ãƒãƒ¼ã‚¸
               â””â”€ feature/dashboard â†’ ãƒãƒ¼ã‚¸
```

#### ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã®ä½œæˆ
```bash
git checkout -b feature/task-name
```

**ã‚³ãƒãƒ³ãƒ‰ã®åˆ†è§£**ï¼š
- `checkout`ï¼šãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
- `-b`ï¼šæ–°è¦ä½œæˆã—ã¦åˆ‡ã‚Šæ›¿ãˆ
- `feature/`ï¼šæ©Ÿèƒ½é–‹ç™ºç”¨ã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹

**å‘½åè¦å‰‡ã®ä¾‹**ï¼š
```bash
feature/add-user-settings      # æ©Ÿèƒ½è¿½åŠ 
fix/login-error                # ãƒã‚°ä¿®æ­£
refactor/optimize-query        # ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
docs/update-readme             # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```

#### æœ€æ–°ã‚³ãƒ¼ãƒ‰ã®å–ã‚Šè¾¼ã¿

##### ãƒ—ãƒ«ï¼ˆPullï¼‰æ–¹å¼
```bash
git checkout develop
git pull origin develop
git checkout feature/task-name
git merge develop
```

**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š
- ã‚·ãƒ³ãƒ—ãƒ«ã§åˆ†ã‹ã‚Šã‚„ã™ã„
- ãƒãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆãŒå±¥æ­´ã«æ®‹ã‚‹

##### ãƒªãƒ™ãƒ¼ã‚¹ï¼ˆRebaseï¼‰æ–¹å¼
```bash
git checkout feature/task-name
git rebase develop
```

**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š
- å±¥æ­´ãŒç›´ç·šçš„ã§ãã‚Œã„
- ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ãŒæ•´ç†ã•ã‚Œã‚‹

**ãƒªãƒ™ãƒ¼ã‚¹ã®å‹•ä½œ**ï¼š
```
å¤‰æ›´å‰ï¼š
develop: Aâ”€Bâ”€C
feature:     â””â”€Dâ”€E

ãƒªãƒ™ãƒ¼ã‚¹å¾Œï¼š
develop: Aâ”€Bâ”€C
feature:       â””â”€D'â”€E'
```

**âš ï¸ æ³¨æ„**ï¼š
- å…¬é–‹æ¸ˆã¿ãƒ–ãƒ©ãƒ³ãƒã§ã¯ãƒªãƒ™ãƒ¼ã‚¹ã—ãªã„
- ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿã—ã‚„ã™ã„

### ã‚³ãƒŸãƒƒãƒˆè¦ç´„

#### ğŸ“ Conventional Commitsã¨ã¯ï¼Ÿ

**Conventional Commits = çµ±ä¸€ã•ã‚ŒãŸã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„**

```
<type>(<scope>): <subject>

<body>

<footer>
```

#### åŸºæœ¬çš„ãªã‚³ãƒŸãƒƒãƒˆã‚¿ã‚¤ãƒ—

```bash
git commit -m "feat: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šç”»é¢ã‚’è¿½åŠ "
```

**ä¸»è¦ãªã‚¿ã‚¤ãƒ—**ï¼š
| ã‚¿ã‚¤ãƒ— | ç”¨é€” | ä¾‹ |
|--------|------|-----|
| `feat` | æ–°æ©Ÿèƒ½è¿½åŠ  | feat: ãƒãƒ¼ãƒ ç®¡ç†æ©Ÿèƒ½ã‚’è¿½åŠ  |
| `fix` | ãƒã‚°ä¿®æ­£ | fix: ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã®ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ |
| `docs` | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | docs: READMEã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã‚’è¿½åŠ  |
| `style` | ã‚³ãƒ¼ãƒ‰æ•´å½¢ | style: ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’ä¿®æ­£ |
| `refactor` | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° | refactor: èªè¨¼å‡¦ç†ã‚’å…±é€šåŒ– |
| `test` | ãƒ†ã‚¹ãƒˆ | test: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ  |
| `chore` | é›‘å‹™ | chore: ä¾å­˜é–¢ä¿‚ã‚’æ›´æ–° |

#### ã‚¹ã‚³ãƒ¼ãƒ—ä»˜ãã‚³ãƒŸãƒƒãƒˆ

```bash
git commit -m "feat(auth): JWTèªè¨¼ã‚’å®Ÿè£…"
git commit -m "fix(api): ã‚¿ã‚¹ã‚¯å–å¾—ã®N+1å•é¡Œã‚’è§£æ±º"
```

**ã‚¹ã‚³ãƒ¼ãƒ—ã®ä¾‹**ï¼š
- `auth`ï¼šèªè¨¼é–¢é€£
- `api`ï¼šãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API
- `ui`ï¼šãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰UI
- `db`ï¼šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- `deps`ï¼šä¾å­˜é–¢ä¿‚

#### è©³ç´°ãªã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

```bash
git commit
# ã‚¨ãƒ‡ã‚£ã‚¿ãŒé–‹ã
```

**è¨˜è¼‰ä¾‹**ï¼š
```
feat(teams): ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼æ‹›å¾…æ©Ÿèƒ½ã‚’è¿½åŠ 

- ãƒ¡ãƒ¼ãƒ«ã«ã‚ˆã‚‹æ‹›å¾…æ©Ÿèƒ½ã‚’å®Ÿè£…
- æ‹›å¾…ãƒªãƒ³ã‚¯ã®æœ‰åŠ¹æœŸé™ã¯7æ—¥é–“
- é‡è¤‡æ‹›å¾…ã®ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½ã‚‚è¿½åŠ 

Closes #123
```

#### ã‚³ãƒŸãƒƒãƒˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

**è‰¯ã„ä¾‹** âœ…ï¼š
```bash
git commit -m "fix: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã§å‰Šé™¤æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹å•é¡Œã‚’ä¿®æ­£"
```
- ä½•ã‚’ä¿®æ­£ã—ãŸã‹æ˜ç¢º
- å•é¡Œã®å†…å®¹ãŒã‚ã‹ã‚‹

**æ‚ªã„ä¾‹** âŒï¼š
```bash
git commit -m "ãƒã‚°ä¿®æ­£"
git commit -m "update"
git commit -m "WIP"
```
- å†…å®¹ãŒä¸æ˜ç¢º
- å¾Œã§å±¥æ­´ã‚’è¦‹ã¦ã‚‚ç†è§£ã§ããªã„

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç”¨ã‚³ãƒãƒ³ãƒ‰

### ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª

#### ğŸ” ãƒãƒ¼ãƒˆä½¿ç”¨çŠ¶æ³ã®ç¢ºèª

##### ç‰¹å®šãƒãƒ¼ãƒˆã®ç¢ºèª
```bash
lsof -i :3000      # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
lsof -i :8000      # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
```

**lsofã¨ã¯**ï¼šList Open Filesï¼ˆé–‹ã„ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºï¼‰

**è¡¨ç¤ºä¾‹**ï¼š
```
COMMAND   PID USER   FD   TYPE    DEVICE NODE NAME
node    12345 user   21u  IPv6 0x1234567      TCP *:3000 (LISTEN)
```

**ã‚¨ãƒ©ãƒ¼ã€Œãƒãƒ¼ãƒˆãŒæ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€ã®å¯¾å‡¦**ï¼š
```bash
# 1. ä½¿ç”¨ä¸­ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª
lsof -i :3000

# 2. ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµ‚äº†
kill -9 12345  # PIDã‚’æŒ‡å®š
```

##### å…¨ãƒãƒ¼ãƒˆã®ç¢ºèª
```bash
netstat -tlnp      # Linux
netstat -an | grep LISTEN  # macOS
```

**è¡¨ç¤ºã®è¦‹æ–¹**ï¼š
```
Proto Local Address    State
tcp   0.0.0.0:3000    LISTEN  â† 3000ç•ªãƒãƒ¼ãƒˆã§å¾…æ©Ÿä¸­
tcp   0.0.0.0:8000    LISTEN  â† 8000ç•ªãƒãƒ¼ãƒˆã§å¾…æ©Ÿä¸­
```

#### ğŸ” ãƒ—ãƒ­ã‚»ã‚¹ã®ç¢ºèª

##### Dockerãƒ—ãƒ­ã‚»ã‚¹
```bash
ps aux | grep docker
```

**ç¢ºèªã§ãã‚‹ã“ã¨**ï¼š
- Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹
- ã©ã®ã‚³ãƒ³ãƒ†ãƒŠãŒå®Ÿè¡Œä¸­ã‹

**çµæœã®ä¾‹**ï¼š
```
user  1234  0.5  2.3  /usr/bin/dockerd
user  5678  0.1  0.5  docker-compose up
```

##### Node.jsãƒ—ãƒ­ã‚»ã‚¹
```bash
ps aux | grep node
```

**ç•°å¸¸ãªçŠ¶æ…‹ã®ä¾‹**ï¼š
```
user  9999  99.0  15.2  node /app/server.js
            â†‘     â†‘
         CPUä½¿ç”¨ç‡ ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡
```
- CPU 99%ï¼šç„¡é™ãƒ«ãƒ¼ãƒ—ã®å¯èƒ½æ€§
- ãƒ¡ãƒ¢ãƒª15%è¶…ï¼šãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã®å¯èƒ½æ€§

##### Pythonãƒ—ãƒ­ã‚»ã‚¹
```bash
ps aux | grep python
```

**è¤‡æ•°ã®Pythonãƒ—ãƒ­ã‚»ã‚¹**ï¼š
```
user  1111  0.1  1.0  python -m uvicorn
user  2222  0.1  1.0  python -m uvicorn
user  3333  0.1  1.0  python -m uvicorn
user  4444  0.1  1.0  python -m uvicorn
```
â†’ gunicornã®4ãƒ¯ãƒ¼ã‚«ãƒ¼ï¼ˆæ­£å¸¸ï¼‰

### ãƒ‡ã‚£ã‚¹ã‚¯ãƒ»ãƒ¡ãƒ¢ãƒªç¢ºèª

#### ğŸ’¾ ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡

##### ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“
```bash
df -h
```

**dfã¨ã¯**ï¼šDisk Freeï¼ˆç©ºãå®¹é‡ç¢ºèªï¼‰
**-h**ï¼šHuman readableï¼ˆäººé–“ãŒèª­ã¿ã‚„ã™ã„å½¢å¼ï¼‰

**è¡¨ç¤ºä¾‹**ï¼š
```
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1       100G   45G   50G  48% /
/dev/sda2       500G  250G  225G  53% /home
```

**è­¦å‘Šãƒ¬ãƒ™ãƒ«**ï¼š
- 80%æœªæº€ï¼šå®‰å…¨ âœ…
- 80-90%ï¼šæ³¨æ„ âš ï¸
- 90%ä»¥ä¸Šï¼šå±é™º ğŸš¨

##### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåˆ¥
```bash
du -sh *
```

**duã¨ã¯**ï¼šDisk Usageï¼ˆä½¿ç”¨é‡ç¢ºèªï¼‰

**è¡¨ç¤ºä¾‹**ï¼š
```
1.2G    node_modules
856M    .yarn
234M    backend
156M    frontend
45M     doc
```

**å¤§ããªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®èª¿æŸ»**ï¼š
```bash
du -sh * | sort -rh | head -10
```
â†’ ã‚µã‚¤ã‚ºé †ã«ä¸Šä½10å€‹è¡¨ç¤º

##### Dockerä½¿ç”¨é‡
```bash
docker system df
```

**è¡¨ç¤ºå†…å®¹**ï¼š
```
TYPE          TOTAL   ACTIVE   SIZE      RECLAIMABLE
Images        15      5        3.45GB    2.1GB (60%)
Containers    8       5        125MB     45MB (36%)
Local Volumes 5       3        1.2GB     400MB (33%)
```

**ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**ï¼š
```bash
docker system prune -a  # æœªä½¿ç”¨ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ç­‰ã‚’å‰Šé™¤
```

#### ğŸ§  ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡

##### ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ï¼ˆLinuxï¼‰
```bash
free -h
```

**è¡¨ç¤ºä¾‹**ï¼š
```
              total    used    free   shared  buff/cache   available
Mem:           16G     8.2G    2.1G     512M        5.7G        7.3G
Swap:          2G      0B      2G
```

**é‡è¦ãªå€¤**ï¼š
- `used`ï¼šä½¿ç”¨ä¸­ã®ãƒ¡ãƒ¢ãƒª
- `available`ï¼šåˆ©ç”¨å¯èƒ½ãªãƒ¡ãƒ¢ãƒªï¼ˆé‡è¦ï¼‰
- `Swap`ï¼šã‚¹ãƒ¯ãƒƒãƒ—ä½¿ç”¨ï¼ˆ0ãŒç†æƒ³ï¼‰

##### ã‚³ãƒ³ãƒ†ãƒŠåˆ¥
```bash
docker stats
```

**ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º**ï¼š
```
CONTAINER ID   NAME                CPU %   MEM USAGE / LIMIT     MEM %
abc123         team-insight-backend    2.5%    245MiB / 1GiB         23.9%
def456         team-insight-frontend   1.2%    156MiB / 512MiB      30.5%
ghi789         team-insight-postgres   0.8%    89MiB / 256MiB       34.8%
```

**ç•°å¸¸ã®è¦‹åˆ†ã‘æ–¹**ï¼š
- CPU% ãŒå¸¸ã«100%è¿‘ã„ â†’ å‡¦ç†ãŒè©°ã¾ã£ã¦ã„ã‚‹
- MEM% ãŒ90%ä»¥ä¸Š â†’ ãƒ¡ãƒ¢ãƒªä¸è¶³ã®å¯èƒ½æ€§

### ãƒ­ã‚°æ¤œç´¢

#### ğŸ” ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®æ¤œç´¢

##### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…æ¤œç´¢
```bash
grep -r "ERROR" ./logs/
```

**grepã‚ªãƒ—ã‚·ãƒ§ãƒ³**ï¼š
- `-r`ï¼šå†å¸°çš„ã«æ¤œç´¢ï¼ˆã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚ï¼‰
- `-i`ï¼šå¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„
- `-n`ï¼šè¡Œç•ªå·ã‚’è¡¨ç¤º

**ã‚ˆã‚Šè©³ç´°ãªæ¤œç´¢**ï¼š
```bash
grep -rn "ERROR" ./logs/ --include="*.log"
```

**æ¤œç´¢çµæœã®ä¾‹**ï¼š
```
./logs/backend.log:152:ERROR: Database connection failed
./logs/backend.log:203:ERROR: Authentication token expired
./logs/frontend.log:45:ERROR: API request timeout
```

##### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ç›£è¦–
```bash
tail -f logs/app.log | grep "ERROR"
```

**tailã‚ªãƒ—ã‚·ãƒ§ãƒ³**ï¼š
- `-f`ï¼šãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–°ã‚’ç›£è¦–
- `-n 100`ï¼šæœ€å¾Œã®100è¡Œã‹ã‚‰è¡¨ç¤º

**è¤‡æ•°ã®æ¡ä»¶ã§æ¤œç´¢**ï¼š
```bash
tail -f logs/app.log | grep -E "ERROR|WARNING|CRITICAL"
```

##### ã‚³ãƒ³ãƒ†ãƒŠãƒ­ã‚°ã®æ¤œç´¢
```bash
docker-compose logs backend | grep "ERROR"
docker-compose logs --since "1h" | grep "timeout"
```

**æ™‚é–“æŒ‡å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³**ï¼š
- `--since "1h"`ï¼š1æ™‚é–“å‰ã‹ã‚‰
- `--since "2024-01-15"`ï¼šç‰¹å®šæ—¥ä»˜ã‹ã‚‰
- `--until "2024-01-16"`ï¼šç‰¹å®šæ—¥ä»˜ã¾ã§

#### ğŸ“… ç‰¹å®šæœŸé–“ã®ãƒ­ã‚°ï¼ˆsystemdï¼‰

```bash
journalctl --since "2024-01-01" --until "2024-01-02"
```

**journalctlã¨ã¯**ï¼šsystemdã®ãƒ­ã‚°ç®¡ç†ãƒ„ãƒ¼ãƒ«

**ä¾¿åˆ©ãªæ™‚é–“æŒ‡å®š**ï¼š
```bash
journalctl --since "1 hour ago"
journalctl --since "yesterday"
journalctl --since "2024-01-15 10:00" --until "2024-01-15 12:00"
```

**ã‚µãƒ¼ãƒ“ã‚¹åˆ¥ã®ãƒ­ã‚°**ï¼š
```bash
journalctl -u docker.service --since today
```

#### ãƒ­ã‚°æ¤œç´¢ã®Tips

**1. ã‚¨ãƒ©ãƒ¼ã®å‰å¾Œã‚’ç¢ºèª**ï¼š
```bash
grep -B 5 -A 5 "ERROR" app.log
```
- `-B 5`ï¼šã‚¨ãƒ©ãƒ¼ã®å‰5è¡Œ
- `-A 5`ï¼šã‚¨ãƒ©ãƒ¼ã®å¾Œ5è¡Œ

**2. ã‚¨ãƒ©ãƒ¼ã‚’æ•°ãˆã‚‹**ï¼š
```bash
grep -c "ERROR" app.log
```

**3. ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒ™ãƒ«åˆ¥ã«é›†è¨ˆ**ï¼š
```bash
grep -E "ERROR|WARNING|INFO" app.log | cut -d' ' -f3 | sort | uniq -c
```

çµæœä¾‹ï¼š
```
   45 ERROR
  123 WARNING
  567 INFO
```

## ğŸ“ ä¾¿åˆ©ãªã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š

### ğŸ¯ ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨ã¯ï¼Ÿ

**ã‚¨ã‚¤ãƒªã‚¢ã‚¹ = ã‚³ãƒãƒ³ãƒ‰ã®çŸ­ç¸®å½¢ï¼ˆã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼‰**

```
é•·ã„ã‚³ãƒãƒ³ãƒ‰ï¼šdocker-compose exec backend bash
     â†“
ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼šdce backend bash
```

### è¨­å®šæ–¹æ³•

#### 1. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
```bash
# Bashã®å ´åˆ
nano ~/.bashrc

# Zshã®å ´åˆï¼ˆMacæ¨™æº–ï¼‰
nano ~/.zshrc
```

#### 2. ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¿½åŠ 
```bash
# ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€å¾Œã«ä»¥ä¸‹ã‚’è¿½åŠ 
```

### Docker Composeç”¨ã‚¨ã‚¤ãƒªã‚¢ã‚¹

```bash
# åŸºæœ¬æ“ä½œ
alias dc='docker-compose'
alias dce='docker-compose exec'
alias dcl='docker-compose logs -f'
alias dcu='docker-compose up -d'
alias dcd='docker-compose down'
alias dcp='docker-compose ps'

# å¿œç”¨æ“ä½œ
alias dcr='docker-compose restart'
alias dcb='docker-compose build'
alias dcrb='docker-compose up -d --build'
```

**ä½¿ç”¨ä¾‹**ï¼š
```bash
# å¾“æ¥
docker-compose exec backend bash

# ã‚¨ã‚¤ãƒªã‚¢ã‚¹ä½¿ç”¨
dce backend bash
```

### Team Insightå°‚ç”¨ã‚¨ã‚¤ãƒªã‚¢ã‚¹

```bash
# èµ·å‹•ãƒ»åœæ­¢
alias ti-start='make start'
alias ti-stop='make stop'
alias ti-restart='make restart'
alias ti-status='make status'

# ãƒ­ã‚°ç¢ºèª
alias ti-logs='make logs'
alias ti-logs-be='make backend-logs'
alias ti-logs-fe='make frontend-logs'

# ã‚·ã‚§ãƒ«ã‚¢ã‚¯ã‚»ã‚¹
alias ti-shell='make backend-shell'
alias ti-shell-fe='make frontend-shell'
alias ti-psql='make db-shell'

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
alias ti-migrate='make migrate'
alias ti-seed='make db-seed'

# é–‹ç™ºç”¨
alias ti-test='make test'
alias ti-lint='make lint'
alias ti-types='make generate-types'
```

### Gitç”¨ã‚¨ã‚¤ãƒªã‚¢ã‚¹

```bash
# åŸºæœ¬æ“ä½œ
alias gs='git status'
alias ga='git add'
alias gc='git commit'
alias gp='git push'
alias gl='git pull'

# ãƒ–ãƒ©ãƒ³ãƒæ“ä½œ
alias gb='git branch'
alias gco='git checkout'
alias gcb='git checkout -b'

# ãƒ­ã‚°ç¢ºèª
alias glog='git log --oneline --graph --decorate'
alias gdiff='git diff'
```

### ä¾¿åˆ©ãªè¤‡åˆã‚¨ã‚¤ãƒªã‚¢ã‚¹

```bash
# æœã®ä½œæ¥­é–‹å§‹
alias morning='git pull origin develop && make start && make status'

# ä½œæ¥­çµ‚äº†
alias eod='make stop && git status'

# ãƒ•ãƒ«ãƒªã‚»ãƒƒãƒˆï¼ˆæ³¨æ„ï¼ï¼‰
alias ti-reset='make clean && make setup'
```

### ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®æœ‰åŠ¹åŒ–

#### 3. è¨­å®šã‚’åæ˜ 
```bash
# Bashã®å ´åˆ
source ~/.bashrc

# Zshã®å ´åˆ
source ~/.zshrc
```

#### 4. ç¢ºèª
```bash
# ç™»éŒ²ã•ã‚ŒãŸã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ç¢ºèª
alias
```

### ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®ãƒ’ãƒ³ãƒˆ

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã«åˆ‡ã‚Šæ›¿ãˆ**ï¼š
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ‡ã‚Šæ›¿ãˆé–¢æ•°
function project() {
  case $1 in
    ti)
      cd ~/projects/team-insight
      make status
      ;;
    other)
      cd ~/projects/other-project
      ;;
  esac
}

# ä½¿ç”¨ä¾‹
project ti  # Team Insightã«ç§»å‹•
```

**é »ç¹ã«ä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã®çµ„ã¿åˆã‚ã›**ï¼š
```bash
# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¾Œã«è‡ªå‹•ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’é–‹ã
alias ti-test-cov='make test-coverage && open coverage/index.html'

# ãƒ­ã‚°ã‚’è¦‹ãªãŒã‚‰ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•
alias ti-debug='make restart && make logs'
```

---

## ğŸ‰ ã“ã‚Œã§å®Œæˆï¼

Team Insight ã‚¸ãƒ¥ãƒ‹ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘å®Ÿè£…ã‚¬ã‚¤ãƒ‰ã®ã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãŒå®Œæˆã—ã¾ã—ãŸã€‚

### ğŸ’¡ æœ€å¾Œã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹

1. **ã¾ãšã¯åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰**
   - `make start`ã€`make logs`ã€`make stop` ã‚’ãƒã‚¹ã‚¿ãƒ¼
   - æ…£ã‚Œã¦ããŸã‚‰ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’æ´»ç”¨

2. **ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰**
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚ˆãèª­ã‚€
   - `make logs` ã§ãƒ­ã‚°ã‚’ç¢ºèª
   - ã“ã®ã‚¬ã‚¤ãƒ‰ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’å‚ç…§

3. **åˆ†ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã£ãŸã‚‰**
   - ã“ã®ã‚¬ã‚¤ãƒ‰ã‚’è¦‹è¿”ã™
   - ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã«è³ªå•
   - ä¸€ç·’ã«è§£æ±ºæ–¹æ³•ã‚’æ¢ã™

é ‘å¼µã£ã¦ãã ã•ã„ï¼Team Insightã®é–‹ç™ºã‚’æ¥½ã—ã¿ã¾ã—ã‚‡ã†ï¼ ğŸš€